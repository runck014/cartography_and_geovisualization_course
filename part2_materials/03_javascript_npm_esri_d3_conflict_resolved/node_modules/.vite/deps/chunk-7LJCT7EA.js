import {
  t
} from "./chunk-GRW2QIBT.js";
import {
  a,
  e,
  e2,
  n2 as n,
  s2 as s
} from "./chunk-PKLD5YJF.js";

// node_modules/@arcgis/core/core/accessorSupport/utils.js
function t2(r5) {
  return r5.__accessor__ ?? null;
}
function e3(r5, n7) {
  var _a;
  return null != ((_a = r5 == null ? void 0 : r5.metadata) == null ? void 0 : _a[n7]);
}
function u(r5, n7, t6) {
  if (t6) {
    return o(r5, n7, { policy: t6, path: "" });
  }
  return o(r5, n7, null);
}
function o(r5, t6, e8) {
  return t6 ? Object.keys(t6).reduce((r6, i6) => {
    const u8 = i6;
    let l7 = null, s10 = "merge";
    if (e8 && (l7 = e8.path ? `${e8.path}.${i6}` : i6, s10 = e8.policy(l7)), "replace" === s10) return r6[u8] = t6[u8], r6;
    if ("replace-arrays" === s10 && Array.isArray(r6[u8])) return r6[u8] = t6[u8], r6;
    if (void 0 === r6[u8]) return r6[u8] = a(t6[u8]), r6;
    let a10 = r6[u8], c9 = t6[u8];
    if (a10 === c9) return r6;
    if (Array.isArray(c9) || Array.isArray(r6)) a10 = a10 ? Array.isArray(a10) ? r6[u8] = a10.slice() : r6[u8] = [a10] : r6[u8] = [], c9 && (Array.isArray(c9) || (c9 = [c9]), c9.forEach((r7) => {
      a10.includes(r7) || a10.push(r7);
    }));
    else if (c9 && "object" == typeof c9) if (e8) {
      const n7 = e8.path;
      e8.path = l7, r6[u8] = o(a10, c9, e8), e8.path = n7;
    } else r6[u8] = o(a10, c9, null);
    else r6.hasOwnProperty(i6) && !t6.hasOwnProperty(i6) || (r6[u8] = c9);
    return r6;
  }, r5 || {}) : r5;
}
function s2(r5) {
  return Array.isArray(r5) ? r5 : r5.split(".");
}
function a2(r5) {
  return r5.includes(",") ? r5.split(",").map((r6) => r6.trim()) : [r5.trim()];
}
function c(r5) {
  if (Array.isArray(r5)) {
    const n7 = [];
    for (const t6 of r5) n7.push(...a2(t6));
    return n7;
  }
  return a2(r5);
}
function p(n7, t6, e8, i6) {
  const u8 = c(t6);
  if (1 !== u8.length) {
    const t7 = u8.map((r5) => i6(n7, r5, e8));
    return t(t7);
  }
  return i6(n7, u8[0], e8);
}

// node_modules/@arcgis/core/core/ObjectPool.js
function t3(t6) {
  return (t6 == null ? void 0 : t6.release) && "function" == typeof t6.release;
}
function i(t6) {
  return (t6 == null ? void 0 : t6.acquire) && "function" == typeof t6.acquire;
}
var e4 = class _e {
  constructor(t6, i6, e8, o10 = 1, s10 = 0) {
    this._ctor = t6, this._acquireFunction = i6, this._releaseFunction = e8, this.allocationSize = o10, this._pool = new Array(s10), this._initialSize = s10;
    for (let n7 = 0; n7 < s10; n7++) this._pool[n7] = new this._ctor();
    this.allocationSize = Math.max(o10, 1);
  }
  destroy() {
    this.prune(0);
  }
  acquire(...t6) {
    let o10;
    if (_e.test.disabled) o10 = new this._ctor();
    else {
      if (0 === this._pool.length) {
        const t7 = this.allocationSize;
        for (let i6 = 0; i6 < t7; i6++) this._pool[i6] = new this._ctor();
      }
      o10 = this._pool.pop();
    }
    return this._acquireFunction ? this._acquireFunction(o10, ...t6) : i(o10) && o10.acquire(...t6), o10;
  }
  release(i6) {
    i6 && !_e.test.disabled && (this._releaseFunction ? this._releaseFunction(i6) : t3(i6) && i6.release(), this._pool.push(i6));
  }
  prune(t6 = this._initialSize) {
    if (!(t6 >= this._pool.length)) {
      for (let i6 = t6; i6 < this._pool.length; ++i6) {
        const t7 = this._pool[i6];
        this._dispose(t7);
      }
      this._pool.length = t6;
    }
  }
  _dispose(t6) {
    t6.dispose && "function" == typeof t6.dispose && t6.dispose();
  }
};
e4.test = { disabled: false };

// node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js
var i2;
!function(i6) {
  i6[i6.Dirty = 1] = "Dirty", i6[i6.Overridden = 2] = "Overridden", i6[i6.Computing = 4] = "Computing", i6[i6.NonNullable = 8] = "NonNullable", i6[i6.HasDefaultValue = 16] = "HasDefaultValue", i6[i6.DepTrackingInitialized = 32] = "DepTrackingInitialized", i6[i6.AutoTracked = 64] = "AutoTracked", i6[i6.ExplicitlyTracking = 128] = "ExplicitlyTracking";
}(i2 || (i2 = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking/TrackingTarget.js
var s3 = class {
  constructor(s10) {
    this.accessed = void 0, this._handles = void 0, this._observer = s10;
  }
  destroy() {
    var _a;
    (_a = this.accessed) == null ? void 0 : _a.clear(), this.clear();
  }
  onAccessed(s10) {
    null != this._observer && s10 !== this._observer && (null == this.accessed && (this.accessed = /* @__PURE__ */ new Set()), this.accessed.add(s10));
  }
  onTrackingEnd() {
    null != this._observer && (this.clear(), null != this.accessed && (null == this._handles && (this._handles = []), this.accessed.forEach((s10) => {
      this._handles.push(s10.observe(this._observer));
    }), this.accessed.clear()));
  }
  clear() {
    if (null != this._handles) {
      for (let s10 = 0; s10 < this._handles.length; ++s10) this._handles[s10].remove();
      this._handles.length = 0;
    }
  }
};

// node_modules/@arcgis/core/core/accessorSupport/tracking.js
var o2 = new s3();
var c2 = [];
var s4 = o2;
function a3(t6) {
  s4.onAccessed(t6);
}
var l = false;
var g = false;
function f(t6, n7, r5) {
  if (l) return p2(t6, n7, r5);
  let e8 = null;
  return k(t6), e8 = n7.call(r5), m(), e8;
}
function u2(t6, n7) {
  return f(o2, t6, n7);
}
function p2(n7, r5, e8) {
  const i6 = l;
  l = true, k(n7);
  let o10 = null;
  try {
    o10 = r5.call(e8);
  } catch (c9) {
    g && n.getLogger("esri.core.accessorSupport.tracking").error(c9);
  }
  return m(), l = i6, o10;
}
function k(t6) {
  s4 = t6, c2.push(t6);
}
function m() {
  const t6 = c2.length;
  if (t6 > 1) {
    const n7 = c2.pop();
    s4 = c2[t6 - 2], n7.onTrackingEnd();
  } else if (1 === t6) {
    const t7 = c2.pop();
    s4 = o2, t7.onTrackingEnd();
  } else s4 = o2;
}
function d(t6, n7) {
  if (n7.flags & i2.DepTrackingInitialized) return;
  n7.flags |= i2.DepTrackingInitialized;
  const r5 = g;
  g = false, n7.flags & i2.AutoTracked ? p2(n7.trackingTarget, n7.metadata.get, t6) : y(t6, n7), g = r5;
}
var T = [];
function y(t6, r5) {
  r5.flags & i2.ExplicitlyTracking || (r5.flags |= i2.ExplicitlyTracking, p2(r5.trackingTarget, () => {
    const e8 = r5.metadata.dependsOn || T;
    for (const r6 of e8) if ("string" != typeof r6 || r6.includes(".")) {
      const e9 = s2(r6);
      for (let n7 = 0, r7 = t6; n7 < e9.length && null != r7 && "object" == typeof r7; ++n7) r7 = h(r7, e9[n7], n7 !== e9.length - 1);
    } else h(t6, r6, false);
  }), r5.flags &= ~i2.ExplicitlyTracking);
}
function h(t6, n7, e8) {
  const i6 = "?" === n7[n7.length - 1] ? n7.slice(0, -1) : n7;
  if (null != t6.getItemAt || Array.isArray(t6)) {
    const n8 = parseInt(i6, 10);
    if (!isNaN(n8)) return Array.isArray(t6) ? t6[n8] : t6.at(n8);
  }
  const o10 = t2(t6);
  if (o10) {
    const n8 = o10.propertiesByName.get(i6);
    n8 && (a3(n8), d(t6, n8));
  }
  return e8 ? t6[i6] : void 0;
}

// node_modules/@arcgis/core/core/nextTick.js
var o3 = [];
function t4(t6) {
  o3.push(t6), 1 === o3.length && queueMicrotask(() => {
    const t7 = o3.slice();
    o3.length = 0;
    for (const o10 of t7) o10();
  });
}

// node_modules/@arcgis/core/core/MapUtils.js
function n2(n7, t6) {
  for (const r5 of n7.values()) if (t6(r5)) return true;
  return false;
}
function r(n7, t6, r5) {
  const e8 = n7.get(t6);
  if (void 0 !== e8) return e8;
  const o10 = r5();
  return n7.set(t6, o10), o10;
}
function e5(n7) {
  const t6 = /* @__PURE__ */ new Map();
  return (r5) => (t6.has(r5) || t6.set(r5, n7(r5)), t6.get(r5));
}

// node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var r2 = () => n.getLogger("esri.core.accessorSupport.ensureTypes");
function t5(e8) {
  return null == e8 ? e8 : new Date(e8);
}
function o4(e8) {
  return null == e8 ? e8 : !!e8;
}
function u3(e8) {
  return null == e8 ? e8 : e8.toString();
}
function a4(e8, n7 = 0) {
  return null == e8 ? e8 : (e8 = parseFloat(e8), isNaN(e8) ? n7 : e8);
}
function s5(e8) {
  return null == e8 ? e8 : Math.round(parseFloat(e8));
}
function l2(e8) {
  return null;
}
function i3(e8, n7) {
  return (r5) => {
    let t6 = e8(r5);
    return null != n7.step && (t6 = Math.round(t6 / n7.step) * n7.step), null != n7.min && (t6 = Math.max(n7.min, t6)), null != n7.max && (t6 = Math.min(n7.max, t6)), t6;
  };
}
function c3(e8) {
  return (e8 == null ? void 0 : e8.constructor) && void 0 !== e8.constructor.__accessorMetadata__;
}
function f2(e8, n7) {
  return null != n7 && e8 && !(n7 instanceof e8);
}
function p3(e8) {
  return e8 && "isCollection" in e8;
}
function y2(e8) {
  return (e8 == null ? void 0 : e8.Type) ? "function" == typeof e8.Type ? e8.Type : e8.Type.base : null;
}
function v(e8, n7) {
  if (!(n7 == null ? void 0 : n7.constructor) || !p3(n7.constructor)) return g2(e8, n7) ? n7 : new e8(n7);
  const r5 = y2(e8.prototype.itemType), t6 = y2(n7.constructor.prototype.itemType);
  return r5 ? t6 ? r5 === t6 ? n7 : r5.prototype.isPrototypeOf(t6.prototype) ? new e8(n7) : (g2(e8, n7), n7) : new e8(n7) : n7;
}
function g2(e8, n7) {
  return !!c3(n7) && (r2().error("Accessor#set", "Assigning an instance of '" + (n7.declaredClass || "unknown") + "' which is not a subclass of '" + m2(e8) + "'"), true);
}
function h2(e8, n7) {
  return null == n7 ? n7 : p3(e8) ? v(e8, n7) : f2(e8, n7) ? g2(e8, n7) ? n7 : new e8(n7) : n7;
}
function m2(e8) {
  var _a;
  return ((_a = e8 == null ? void 0 : e8.prototype) == null ? void 0 : _a.declaredClass) || "unknown";
}
var d2 = /* @__PURE__ */ new WeakMap();
function b(e8) {
  switch (e8) {
    case Number:
      return (e9) => a4(e9);
    case x:
      return s5;
    case Boolean:
      return o4;
    case String:
      return u3;
    case Date:
      return t5;
    case _:
      return l2;
    default:
      return r(d2, e8, () => h2.bind(null, e8));
  }
}
function w(e8, n7) {
  const r5 = b(e8);
  return 1 === arguments.length ? r5 : r5(n7);
}
function A(e8, n7, r5) {
  return 1 === arguments.length ? A.bind(null, e8) : n7 ? Array.isArray(n7) ? n7.map((n8) => e8(n8, r5)) : [e8(n7, r5)] : n7;
}
function $(e8, n7) {
  return 1 === arguments.length ? A((n8) => w(e8, n8)) : A((n8) => w(e8, n8), n7);
}
function j(e8, n7, r5) {
  return 0 !== n7 && Array.isArray(r5) ? r5.map((r6) => j(e8, n7 - 1, r6)) : e8(r5);
}
function M(e8, n7, r5) {
  if (2 === arguments.length) return (r6) => M(e8, n7, r6);
  if (!r5) return r5;
  r5 = j(e8, n7, r5);
  let t6 = n7, o10 = r5;
  for (; t6 > 0 && Array.isArray(o10); ) t6--, o10 = o10[0];
  if (void 0 !== o10) for (let u8 = 0; u8 < t6; u8++) r5 = [r5];
  return r5;
}
function k2(e8, n7, r5) {
  return 2 === arguments.length ? M((n8) => w(e8, n8), n7) : M((n8) => w(e8, n8), n7, r5);
}
function S(e8) {
  return !!Array.isArray(e8) && !e8.some((n7) => {
    const r5 = typeof n7;
    return !("string" === r5 || "number" === r5 || "function" === r5 && e8.length > 1);
  });
}
function T2(e8, n7) {
  if (2 === arguments.length) return T2(e8).call(null, n7);
  const t6 = /* @__PURE__ */ new Set(), o10 = e8.filter((e9) => "function" != typeof e9), u8 = e8.filter((e9) => "function" == typeof e9);
  for (const r5 of e8) "string" != typeof r5 && "number" != typeof r5 || t6.add(r5);
  let a10 = null, s10 = null;
  return (e9, n8) => {
    if (null == e9) return e9;
    const l7 = typeof e9, i6 = "string" === l7 || "number" === l7;
    return i6 && (t6.has(e9) || u8.some((e10) => "string" === l7 && e10 === String || "number" === l7 && e10 === Number)) || "object" === l7 && u8.some((n9) => !f2(e9, n9)) ? e9 : (i6 && o10.length ? (a10 || (a10 = o10.map((e10) => "string" == typeof e10 ? `'${e10}'` : `${e10}`).join(", ")), r2().error("Accessor#set", `'${e9}' is not a valid value for this property, only the following values are valid: ${a10}`)) : "object" == typeof e9 && u8.length ? (s10 || (s10 = u8.map((e10) => m2(e10)).join(", ")), r2().error("Accessor#set", `'${e9}' is not a valid value for this property, value must be one of ${s10}`)) : r2().error("Accessor#set", `'${e9}' is not a valid value for this property`), n8 && (n8.valid = false), null);
  };
}
function N(e8, n7) {
  if (2 === arguments.length) return N(e8).call(null, n7);
  const t6 = {}, o10 = [], u8 = [];
  for (const r5 in e8.typeMap) {
    const n8 = e8.typeMap[r5];
    t6[r5] = w(n8), o10.push(m2(n8)), u8.push(r5);
  }
  const a10 = () => `'${o10.join("', '")}'`, s10 = () => `'${u8.join("', '")}'`, l7 = "string" == typeof e8.key ? (n8) => n8[e8.key] : e8.key;
  return (n8) => {
    if (e8.base && !f2(e8.base, n8)) return n8;
    if (null == n8) return n8;
    const o11 = l7(n8) || e8.defaultKeyValue, u9 = t6[o11];
    if (!u9) return r2().error("Accessor#set", `Invalid property value, value needs to be one of ${a10()}, or a plain object that can autocast (having .type = ${s10()})`), null;
    if (!f2(e8.typeMap[o11], n8)) return n8;
    if ("string" == typeof e8.key && !c3(n8)) {
      const r5 = {};
      for (const t7 in n8) t7 !== e8.key && (r5[t7] = n8[t7]);
      return u9(r5);
    }
    return u9(n8);
  };
}
var x = class {
};
var _ = class {
};
var B = { native: (e8) => ({ type: "native", value: e8 }), array: (e8) => ({ type: "array", value: e8 }), oneOf: (e8) => ({ type: "one-of", values: e8 }) };
function C(e8) {
  if (!e8 || !("type" in e8)) return false;
  switch (e8.type) {
    case "native":
    case "array":
    case "one-of":
      return true;
  }
  return false;
}
function D(e8) {
  switch (e8.type) {
    case "native":
      return w(e8.value);
    case "array":
      return A(D(e8.value));
    case "one-of":
      return F(e8);
    default:
      return null;
  }
}
function F(e8) {
  let n7 = null;
  return (t6, o10) => L(t6, e8) ? t6 : (null == n7 && (n7 = I(e8)), r2().error("Accessor#set", `Invalid property value, value needs to be of type ${n7}`), o10 && (o10.valid = false), null);
}
function I(e8) {
  switch (e8.type) {
    case "native":
      switch (e8.value) {
        case Number:
          return "number";
        case String:
          return "string";
        case Boolean:
          return "boolean";
        case x:
          return "integer";
        case Date:
          return "date";
        case _:
          return "null";
        default:
          return m2(e8.value);
      }
    case "array":
      return `array of ${I(e8.value)}`;
    case "one-of": {
      const n7 = e8.values.map((e9) => I(e9));
      return `one of ${n7.slice(0, -1)} or ${n7[n7.length - 1]}`;
    }
  }
  return "unknown";
}
function L(e8, n7) {
  if (null == e8) return true;
  switch (n7.type) {
    case "native":
      switch (n7.value) {
        case Number:
        case x:
          return "number" == typeof e8;
        case Boolean:
          return "boolean" == typeof e8;
        case String:
          return "string" == typeof e8;
        case _:
          return null === e8;
      }
      return e8 instanceof n7.value;
    case "array":
      return !!Array.isArray(e8) && !e8.some((e9) => !L(e9, n7.value));
    case "one-of":
      return n7.values.some((n8) => L(e8, n8));
  }
}

// node_modules/@arcgis/core/core/Warning.js
var s6 = class extends e2 {
  constructor(e8, s10, t6) {
    super(e8, s10, t6);
  }
};
s6.prototype.type = "warning";

// node_modules/@arcgis/core/core/accessorSupport/beforeDestroy.js
var o5 = Symbol("Accessor-beforeDestroy");

// node_modules/@arcgis/core/core/accessorSupport/interfaces.js
var I2;
!function(I3) {
  I3[I3.INITIALIZING = 0] = "INITIALIZING", I3[I3.CONSTRUCTING = 1] = "CONSTRUCTING", I3[I3.CONSTRUCTED = 2] = "CONSTRUCTED", I3[I3.DESTROYED = 3] = "DESTROYED";
}(I2 || (I2 = {}));

// node_modules/@arcgis/core/core/accessorSupport/metadata.js
function r3(e8) {
  let r5 = e8.constructor.__accessorMetadata__;
  const o10 = Object.prototype.hasOwnProperty.call(e8.constructor, "__accessorMetadata__");
  if (r5) {
    if (!o10) {
      r5 = Object.create(r5);
      for (const e9 in r5) r5[e9] = a(r5[e9]);
      Object.defineProperty(e8.constructor, "__accessorMetadata__", { value: r5, enumerable: false, configurable: true, writable: true });
    }
  } else r5 = {}, Object.defineProperty(e8.constructor, "__accessorMetadata__", { value: r5, enumerable: false, configurable: true, writable: true });
  return e8.constructor.__accessorMetadata__;
}
function o6(t6, e8) {
  const o10 = r3(t6);
  let c9 = o10[e8];
  return c9 || (c9 = o10[e8] = {}), c9;
}
function c4(t6, r5) {
  return u(t6, r5, n3);
}
var a5 = /^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;
function n3(t6) {
  return a5.test(t6) ? "replace" : "merge";
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/originAliases.js
function n4(n7) {
  if (n7.json && n7.json.origins) {
    const o10 = n7.json.origins, e8 = { "web-document": ["web-scene", "web-map"] };
    for (const n8 in e8) if (o10[n8]) {
      const s10 = o10[n8];
      e8[n8].forEach((n9) => {
        o10[n9] = s10;
      }), delete o10[n8];
    }
  }
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/type.js
function e6(e8) {
  var _a;
  return !!e8 && ((_a = e8.prototype) == null ? void 0 : _a.declaredClass) && 0 === e8.prototype.declaredClass.indexOf("esri.core.Collection");
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js
var i4 = () => n.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
function p4(t6, r5, n7) {
  var _a, _b;
  t6 && (!n7 && !r5.read || ((_a = r5.read) == null ? void 0 : _a.reader) || false === ((_b = r5.read) == null ? void 0 : _b.enabled) || l3(t6) && e("read.reader", u4(t6), r5));
}
function u4(t6) {
  var _a, _b;
  const e8 = t6.ndimArray ?? 0;
  if (e8 > 1) return c5(t6);
  if (1 === e8) return a6(t6);
  if ("type" in t6 && d3(t6.type)) {
    const e9 = (_b = (_a = t6.type.prototype) == null ? void 0 : _a.itemType) == null ? void 0 : _b.Type, r5 = a6("function" == typeof e9 ? { type: e9 } : { types: e9 });
    return (e10, n7, o10) => {
      const i6 = r5(e10, n7, o10);
      return i6 ? new t6.type(i6) : i6;
    };
  }
  return s7(t6);
}
function s7(t6) {
  return "type" in t6 ? y3(t6.type) : g3(t6.types);
}
function y3(t6) {
  return t6.prototype.read ? (e8, r5, n7) => {
    if (null == e8) return e8;
    const o10 = typeof e8;
    if ("object" !== o10) return void i4().error(`Expected JSON value of type 'object' to deserialize type '${t6.prototype.declaredClass}', but got '${o10}'`);
    const p8 = new t6();
    return p8.read(e8, n7), p8;
  } : t6.fromJSON;
}
function f3(t6, e8, r5, n7) {
  return 0 !== n7 && Array.isArray(e8) ? e8.map((e9) => f3(t6, e9, r5, n7 - 1)) : t6(e8, void 0, r5);
}
function c5(t6) {
  const e8 = s7(t6), r5 = f3.bind(null, e8), n7 = t6.ndimArray ?? 0;
  return (t7, e9, o10) => {
    if (null == t7) return t7;
    t7 = r5(t7, o10, n7);
    let i6 = n7, p8 = t7;
    for (; i6 > 0 && Array.isArray(p8); ) i6--, p8 = p8[0];
    if (void 0 !== p8) for (let r6 = 0; r6 < i6; r6++) t7 = [t7];
    return t7;
  };
}
function a6(t6) {
  const e8 = s7(t6);
  return (t7, r5, n7) => {
    if (null == t7) return t7;
    if (Array.isArray(t7)) {
      const r6 = [];
      for (const o11 of t7) {
        const t8 = e8(o11, void 0, n7);
        void 0 !== t8 && r6.push(t8);
      }
      return r6;
    }
    const o10 = e8(t7, void 0, n7);
    return void 0 !== o10 ? [o10] : void 0;
  };
}
function d3(t6) {
  if (!e6(t6)) return false;
  const e8 = t6.prototype.itemType;
  return !(!e8 || !e8.Type) && ("function" == typeof e8.Type ? m3(e8.Type) : j2(e8.Type));
}
function l3(t6) {
  return "types" in t6 ? j2(t6.types) : m3(t6.type);
}
function m3(t6) {
  return !Array.isArray(t6) && (!!t6 && t6.prototype && ("read" in t6.prototype || "fromJSON" in t6 || d3(t6)));
}
function j2(t6) {
  for (const e8 in t6.typeMap) {
    if (!m3(t6.typeMap[e8])) return false;
  }
  return true;
}
function g3(t6) {
  let e8 = null;
  const n7 = t6.errorContext ?? "type", o10 = t6.validate;
  return (p8, u8, s10) => {
    if (null == p8) return p8;
    const y6 = typeof p8;
    if ("object" !== y6) return void i4().error(`Expected JSON value of type 'object' to deserialize, but got '${y6}'`);
    e8 || (e8 = v2(t6));
    const f6 = t6.key;
    if ("string" != typeof f6) return;
    const c9 = p8[f6], a10 = c9 ? e8[c9] : t6.defaultKeyValue ? t6.typeMap[t6.defaultKeyValue] : void 0;
    if (!a10) {
      const t7 = `Type '${c9 || "unknown"}' is not supported`;
      return (s10 == null ? void 0 : s10.messages) && p8 && s10.messages.push(new s6(`${n7}:unsupported`, t7, { definition: p8, context: s10 })), void i4().error(t7);
    }
    const d4 = new a10();
    return d4.read(p8, s10), o10 ? o10(d4) : d4;
  };
}
function v2(t6) {
  var _a, _b;
  const e8 = {};
  for (const r5 in t6.typeMap) {
    const o10 = t6.typeMap[r5], i6 = r3(o10.prototype);
    if ("function" == typeof t6.key) continue;
    const p8 = i6[t6.key];
    if (!p8) continue;
    if (((_a = p8.json) == null ? void 0 : _a.type) && Array.isArray(p8.json.type) && 1 === p8.json.type.length && "string" == typeof p8.json.type[0]) {
      e8[p8.json.type[0]] = o10;
      continue;
    }
    const u8 = (_b = p8.json) == null ? void 0 : _b.write;
    if (!(u8 == null ? void 0 : u8.writer)) {
      e8[r5] = o10;
      continue;
    }
    const s10 = u8.target, y6 = "string" == typeof s10 ? s10 : t6.key, f6 = {};
    u8.writer(r5, f6, y6), f6[y6] && (e8[f6[y6]] = o10);
  }
  return e8;
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/shorthands.js
function e7(e8) {
  if (e8.json || (e8.json = {}), o7(e8.json), n5(e8.json), r4(e8.json), e8.json.origins) for (const t6 in e8.json.origins) o7(e8.json.origins[t6]), n5(e8.json.origins[t6]), r4(e8.json.origins[t6]);
  return true;
}
function r4(e8) {
  e8.name && (e8.read && "object" == typeof e8.read ? void 0 === e8.read.source && (e8.read.source = e8.name) : e8.read = { source: e8.name }, e8.write && "object" == typeof e8.write ? void 0 === e8.write.target && (e8.write.target = e8.name) : e8.write = { target: e8.name });
}
function o7(e8) {
  "boolean" == typeof e8.read ? e8.read = { enabled: e8.read } : "function" == typeof e8.read ? e8.read = { enabled: true, reader: e8.read } : e8.read && "object" == typeof e8.read && void 0 === e8.read.enabled && (e8.read.enabled = true);
}
function n5(e8) {
  "boolean" == typeof e8.write ? e8.write = { enabled: e8.write } : "function" == typeof e8.write ? e8.write = { enabled: true, writer: e8.write } : e8.write && "object" == typeof e8.write && void 0 === e8.write.enabled && (e8.write.enabled = true);
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js
function i5(r5, e8) {
  if (!e8.write || e8.write.writer || false === e8.write.enabled && !e8.write.overridePolicy) return;
  const t6 = (r5 == null ? void 0 : r5.ndimArray) ?? 0;
  r5 && (1 === t6 || "type" in r5 && e6(r5.type)) ? e8.write.writer = a7 : t6 > 1 ? e8.write.writer = l4(t6) : e8.types ? Array.isArray(e8.types) ? e8.write.writer = f4(e8.types[0]) : e8.write.writer = o8(e8.types) : e8.write.writer = s8;
}
function o8(r5) {
  return (e8, t6, n7, i6) => e8 ? u5(e8, r5, i6) ? s8(e8, t6, n7, i6) : void 0 : s8(e8, t6, n7, i6);
}
function u5(t6, n7, i6) {
  for (const r5 in n7.typeMap) if (t6 instanceof n7.typeMap[r5]) return true;
  if (i6 == null ? void 0 : i6.messages) {
    const o10 = n7.errorContext ?? "type", u8 = `Values of type '${("function" != typeof n7.key ? t6[n7.key] : t6.declaredClass) ?? "Unknown"}' cannot be written`;
    i6 && i6.messages && t6 && i6.messages.push(new s(`${o10}:unsupported`, u8, { definition: t6, context: i6 })), n.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u8);
  }
  return false;
}
function f4(r5) {
  return (e8, t6, n7, i6) => {
    if (!e8 || !Array.isArray(e8)) return s8(e8, t6, n7, i6);
    return s8(e8.filter((e9) => u5(e9, r5, i6)), t6, n7, i6);
  };
}
function s8(r5, e8, n7, i6) {
  e(n7, p5(r5, i6), e8);
}
function p5(r5, e8) {
  return r5 && "function" == typeof r5.write ? r5.write({}, e8) : r5 && "function" == typeof r5.toJSON ? r5.toJSON() : "number" == typeof r5 ? y4(r5) : r5;
}
function y4(r5) {
  return r5 === -1 / 0 ? -Number.MAX_VALUE : r5 === 1 / 0 ? Number.MAX_VALUE : isNaN(r5) ? null : r5;
}
function a7(r5, e8, n7, i6) {
  let o10;
  null === r5 ? o10 = null : r5 && "function" == typeof r5.map ? (o10 = r5.map((r6) => p5(r6, i6)), "function" == typeof o10.toArray && (o10 = o10.toArray())) : o10 = [p5(r5, i6)], e(n7, o10, e8);
}
function c6(r5, e8, t6) {
  return 0 !== t6 && Array.isArray(r5) ? r5.map((r6) => c6(r6, e8, t6 - 1)) : p5(r5, e8);
}
function l4(r5) {
  return (e8, n7, i6, o10) => {
    let u8;
    if (null === e8) u8 = null;
    else {
      u8 = c6(e8, o10, r5);
      let t6 = r5, n8 = u8;
      for (; t6 > 0 && Array.isArray(n8); ) t6--, n8 = n8[0];
      if (void 0 !== n8) for (let r6 = 0; r6 < t6; r6++) u8 = [u8];
    }
    e(i6, u8, n7);
  };
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty.js
function o9(r5, i6) {
  return y5(r5, "any", i6 == null ? void 0 : i6.origin);
}
function s9(r5, i6) {
  return y5(r5, "read", i6 == null ? void 0 : i6.origin);
}
function a8(r5, i6) {
  return y5(r5, "write", i6 == null ? void 0 : i6.origin);
}
function y5(r5, i6, n7) {
  let e8 = r5 == null ? void 0 : r5.json;
  if ((e8 == null ? void 0 : e8.origins) && n7) {
    let r6;
    r6 = "link-chart" === n7 ? e8.origins[n7] && ("any" === i6 || i6 in e8.origins[n7]) ? e8.origins[n7] : e8.origins["web-map"] : e8.origins[n7], r6 && ("any" === i6 || i6 in r6) && (e8 = r6);
  }
  return e8;
}
function p6(r5) {
  var _a;
  const i6 = f5(r5);
  if (r5.json.origins) for (const e8 in r5.json.origins) {
    const o10 = r5.json.origins[e8], s10 = o10.types ? u6(o10) : i6;
    p4(s10, o10, false), o10.types && !o10.write && ((_a = r5.json.write) == null ? void 0 : _a.enabled) && (o10.write = { ...r5.json.write }), i5(s10, o10);
  }
  p4(i6, r5.json, true), i5(i6, r5.json);
}
function f5(r5) {
  return r5.json.types ? j3(r5.json) : r5.type ? c7(r5) : j3(r5);
}
function u6(r5) {
  return r5.type ? c7(r5) : j3(r5);
}
function c7(i6) {
  if (!i6.type) return;
  let n7 = 0, e8 = i6.type;
  for (; Array.isArray(e8) && !S(e8); ) e8 = e8[0], n7++;
  return { type: e8, ndimArray: n7 };
}
function j3(r5) {
  if (!r5.types) return;
  let i6 = 0, n7 = r5.types;
  for (; Array.isArray(n7); ) n7 = n7[0], i6++;
  return { types: n7, ndimArray: i6 };
}
function l5(r5) {
  e7(r5) && (n4(r5), p6(r5));
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var n6 = /* @__PURE__ */ new Set();
var c8 = /* @__PURE__ */ new Set();
function a9(e8) {
  return (r5) => {
    e8 ?? (e8 = "esri.core.Accessor"), r5.prototype.declaredClass = e8, p7(r5);
    const s10 = [], i6 = [];
    let a10 = r5.prototype;
    for (; a10; ) a10.hasOwnProperty("initialize") && !n6.has(a10.initialize) && (n6.add(a10.initialize), s10.push(a10.initialize)), a10.hasOwnProperty("destroy") && !c8.has(a10.destroy) && (c8.add(a10.destroy), i6.push(a10.destroy)), a10 = Object.getPrototypeOf(a10);
    n6.clear(), c8.clear();
    const l7 = class extends r5 {
      constructor(...e9) {
        if (super(...e9), this.constructor === l7 && "function" == typeof this.postscript) {
          if (s10.length && Object.defineProperty(this, "initialize", { enumerable: false, configurable: true, value() {
            for (let e10 = s10.length - 1; e10 >= 0; e10--) s10[e10].call(this);
          } }), i6.length) {
            let e10 = false;
            const r6 = this[o5];
            Object.defineProperty(this, "destroy", { enumerable: false, configurable: true, value() {
              if (!e10) {
                e10 = true, r6.call(this);
                for (let e11 = 0; e11 < i6.length; e11++) i6[e11].call(this);
              }
            } });
          }
          Object.defineProperty(this, Symbol.dispose, { enumerable: false, configurable: true, value() {
            this.destroy();
          } }), this.postscript();
        }
      }
    };
    l7.__accessorMetadata__ = r3(r5.prototype), l7.prototype.declaredClass = e8;
    const u8 = (e8 || "AccessorSubclass").split(".").slice(-1)[0];
    return Object.defineProperty(l7, "name", { value: u8, configurable: true }), l7;
  };
}
function l6(e8, t6) {
  return null == t6.get ? function() {
    const t7 = this.__accessor__, r5 = t7.propertiesByName.get(e8);
    if (void 0 === r5) return;
    t7.mutable && a3(r5);
    const o10 = t7.store;
    return o10.has(e8) ? o10.get(e8) : r5.metadata.value;
  } : function() {
    const t7 = this.__accessor__, r5 = t7.propertiesByName.get(e8);
    if (void 0 !== r5) return r5.getComputed(t7);
  };
}
function p7(e8) {
  const t6 = e8.prototype, s10 = r3(t6), n7 = {};
  for (const o10 of Object.getOwnPropertyNames(s10)) {
    const e9 = s10[o10];
    l5(e9), n7[o10] = { enumerable: true, configurable: true, get: l6(o10, e9), set(t7) {
      const s11 = this.__accessor__;
      if (void 0 !== s11) {
        if (s11.mutable) return s11.initialized && e9.readOnly ? u7("read-only", o10) : s11.lifecycle === I2.CONSTRUCTED && e9.constructOnly ? u7("construct-only", o10) : void s11.set(o10, t7);
      } else Object.defineProperty(this, o10, { enumerable: true, configurable: true, writable: true, value: t7 });
    } };
  }
  Object.defineProperties(e8.prototype, n7);
}
var u7 = (t6, r5) => {
  n.getLogger("esri.core.Accessor").error(`cannot assign to ${t6} property '${r5}'`);
};

export {
  o5 as o,
  t2 as t,
  e3 as e,
  u,
  s2 as s,
  p,
  I2 as I,
  r3 as r,
  o6 as o2,
  c4 as c,
  e4 as e2,
  i2 as i,
  s3 as s2,
  a3 as a,
  f,
  u2,
  d,
  y,
  t4 as t2,
  n2 as n,
  r as r2,
  e5 as e3,
  u3,
  a4 as a2,
  s5 as s3,
  i3 as i2,
  h2 as h,
  w,
  A,
  $,
  M,
  k2 as k,
  S,
  T2 as T,
  N,
  x,
  _,
  B,
  C,
  D,
  s6 as s4,
  u4,
  y4 as y2,
  o9 as o3,
  s9 as s5,
  a8 as a3,
  a9 as a4
};
//# sourceMappingURL=chunk-7LJCT7EA.js.map
