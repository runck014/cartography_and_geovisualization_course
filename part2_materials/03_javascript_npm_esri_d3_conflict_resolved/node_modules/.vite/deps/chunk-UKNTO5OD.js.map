{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/cim/rasterizingUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as o}from\"../../core/floatRGBA.js\";import{nextPowerOfTwo as t}from\"../../core/mathUtils.js\";import{dashSdfRasterizationScale as r,dashSdfDistanceNormalization as a,dashRadius as e}from\"./constants.js\";const n=o=>\"vertical\"===o||\"horizontal\"===o||\"cross\"===o||\"esriSFSCross\"===o||\"esriSFSVertical\"===o||\"esriSFSHorizontal\"===o;function s(o,r,a){const e=r.style,s=t(Math.ceil(a)),i=n(e)?8*s:16*s,l=2*s;o.width=i,o.height=i;const h=o.getContext(\"2d\");h.strokeStyle=\"#ffffff\",h.lineWidth=s,h.beginPath(),\"vertical\"!==e&&\"cross\"!==e&&\"esriSFSCross\"!==e&&\"esriSFSVertical\"!==e||(h.moveTo(i/2,-l),h.lineTo(i/2,i+l)),\"horizontal\"!==e&&\"cross\"!==e&&\"esriSFSCross\"!==e&&\"esriSFSHorizontal\"!==e||(h.moveTo(-l,i/2),h.lineTo(i+l,i/2)),\"backward-diagonal\"!==e&&\"diagonal-cross\"!==e&&\"esriSFSDiagonalCross\"!==e&&\"esriSFSBackwardDiagonal\"!==e||(h.moveTo(-l,-l),h.lineTo(i+l,i+l),h.moveTo(i-l,-l),h.lineTo(i+l,l),h.moveTo(-l,i-l),h.lineTo(l,i+l)),\"forward-diagonal\"!==e&&\"diagonal-cross\"!==e&&\"esriSFSForwardDiagonal\"!==e&&\"esriSFSDiagonalCross\"!==e||(h.moveTo(i+l,-l),h.lineTo(-l,i+l),h.moveTo(l,-l),h.lineTo(-l,l),h.moveTo(i+l,i-l),h.lineTo(i-l,i+l)),h.stroke();const c=h.getImageData(0,0,o.width,o.height),m=new Uint8Array(c.data);let f;for(let t=0;t<m.length;t+=4)f=m[t+3]/255,m[t]=m[t]*f,m[t+1]=m[t+1]*f,m[t+2]=m[t+2]*f;return[m,o.width,o.height,s]}function i(t){t.length%2==1&&(t=[...t,...t]);const e=t.reduce(((o,t)=>o+t),0),n=Math.round(e*r),s=1,i=new Float32Array(n*s);let l=0,h=0,c=.5,m=!0;for(const o of t){for(l=h,h+=o*r;c<=h;){const o=c-.5,t=Math.min(Math.abs(c-l),Math.abs(c-h));i[o]=m?-t:t,c++}m=!m}const f=i.length,S=new Uint8Array(4*f);for(let g=0;g<f;++g){const t=i[g]/r;o(t/a*.5+.5,S,4*g)}return[S,n,s]}function l(t,r){null==t&&(t=[]);const a=\"Butt\"===r,n=\"Square\"===r,s=!a&&!n;t.length%2==1&&(t=[...t,...t]);const i=e,l=2*i;let h=0;for(const o of t)h+=o;const c=Math.round(h*i),m=new Float32Array(c*l),f=.5*i;let S=0,g=0,M=.5,d=!0;for(const o of t){for(S=g,g+=o*i;M<=g;){let o=.5;for(;o<l;){const t=(o-.5)*c+M-.5,r=s?(o-i)*(o-i):Math.abs(o-i);m[t]=d?a?Math.max(Math.max(S+f-M,r),Math.max(M-g+f,r)):r:s?Math.min((M-S)*(M-S)+r,(M-g)*(M-g)+r):n?Math.min(Math.max(M-S,r),Math.max(g-M,r)):Math.min(Math.max(M-S+f,r),Math.max(g+f-M,r)),o++}M++}d=!d}const T=m.length,F=new Uint8Array(4*T);for(let e=0;e<T;++e){const t=(s?Math.sqrt(m[e]):m[e])/i;o(t,F,4*e)}return[F,c,l]}export{l as rasterizeDash,i as rasterizeDash1D,s as rasterizeFillStyle};\n"],
  "mappings": ";;;;;;;;;;;;;AAI8N,IAAM,IAAE,CAAAA,OAAG,eAAaA,MAAG,iBAAeA,MAAG,YAAUA,MAAG,mBAAiBA,MAAG,sBAAoBA,MAAG,wBAAsBA;AAAE,SAAS,EAAEA,IAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,OAAMC,KAAE,EAAE,KAAK,KAAK,CAAC,CAAC,GAAEC,KAAE,EAAE,CAAC,IAAE,IAAED,KAAE,KAAGA,IAAEE,KAAE,IAAEF;AAAE,EAAAD,GAAE,QAAME,IAAEF,GAAE,SAAOE;AAAE,QAAM,IAAEF,GAAE,WAAW,IAAI;AAAE,IAAE,cAAY,WAAU,EAAE,YAAUC,IAAE,EAAE,UAAU,GAAE,eAAa,KAAG,YAAU,KAAG,mBAAiB,KAAG,sBAAoB,MAAI,EAAE,OAAOC,KAAE,GAAE,CAACC,EAAC,GAAE,EAAE,OAAOD,KAAE,GAAEA,KAAEC,EAAC,IAAG,iBAAe,KAAG,YAAU,KAAG,mBAAiB,KAAG,wBAAsB,MAAI,EAAE,OAAO,CAACA,IAAED,KAAE,CAAC,GAAE,EAAE,OAAOA,KAAEC,IAAED,KAAE,CAAC,IAAG,wBAAsB,KAAG,qBAAmB,KAAG,2BAAyB,KAAG,8BAA4B,MAAI,EAAE,OAAO,CAACC,IAAE,CAACA,EAAC,GAAE,EAAE,OAAOD,KAAEC,IAAED,KAAEC,EAAC,GAAE,EAAE,OAAOD,KAAEC,IAAE,CAACA,EAAC,GAAE,EAAE,OAAOD,KAAEC,IAAEA,EAAC,GAAE,EAAE,OAAO,CAACA,IAAED,KAAEC,EAAC,GAAE,EAAE,OAAOA,IAAED,KAAEC,EAAC,IAAG,uBAAqB,KAAG,qBAAmB,KAAG,6BAA2B,KAAG,2BAAyB,MAAI,EAAE,OAAOD,KAAEC,IAAE,CAACA,EAAC,GAAE,EAAE,OAAO,CAACA,IAAED,KAAEC,EAAC,GAAE,EAAE,OAAOA,IAAE,CAACA,EAAC,GAAE,EAAE,OAAO,CAACA,IAAEA,EAAC,GAAE,EAAE,OAAOD,KAAEC,IAAED,KAAEC,EAAC,GAAE,EAAE,OAAOD,KAAEC,IAAED,KAAEC,EAAC,IAAG,EAAE,OAAO;AAAE,QAAMC,KAAE,EAAE,aAAa,GAAE,GAAEJ,GAAE,OAAMA,GAAE,MAAM,GAAE,IAAE,IAAI,WAAWI,GAAE,IAAI;AAAE,MAAI;AAAE,WAAQC,KAAE,GAAEA,KAAE,EAAE,QAAOA,MAAG,EAAE,KAAE,EAAEA,KAAE,CAAC,IAAE,KAAI,EAAEA,EAAC,IAAE,EAAEA,EAAC,IAAE,GAAE,EAAEA,KAAE,CAAC,IAAE,EAAEA,KAAE,CAAC,IAAE,GAAE,EAAEA,KAAE,CAAC,IAAE,EAAEA,KAAE,CAAC,IAAE;AAAE,SAAM,CAAC,GAAEL,GAAE,OAAMA,GAAE,QAAOC,EAAC;AAAC;AAAC,SAASC,GAAEG,IAAE;AAAC,EAAAA,GAAE,SAAO,KAAG,MAAIA,KAAE,CAAC,GAAGA,IAAE,GAAGA,EAAC;AAAG,QAAM,IAAEA,GAAE,OAAQ,CAACL,IAAEK,OAAIL,KAAEK,IAAG,CAAC,GAAEC,KAAE,KAAK,MAAM,IAAE,CAAC,GAAEL,KAAE,GAAEC,KAAE,IAAI,aAAaI,KAAEL,EAAC;AAAE,MAAIE,KAAE,GAAE,IAAE,GAAEC,KAAE,KAAG,IAAE;AAAG,aAAUJ,MAAKK,IAAE;AAAC,SAAIF,KAAE,GAAE,KAAGH,KAAE,GAAEI,MAAG,KAAG;AAAC,YAAMJ,KAAEI,KAAE,KAAGC,KAAE,KAAK,IAAI,KAAK,IAAID,KAAED,EAAC,GAAE,KAAK,IAAIC,KAAE,CAAC,CAAC;AAAE,MAAAF,GAAEF,EAAC,IAAE,IAAE,CAACK,KAAEA,IAAED;AAAA,IAAG;AAAC,QAAE,CAAC;AAAA,EAAC;AAAC,QAAM,IAAEF,GAAE,QAAO,IAAE,IAAI,WAAW,IAAE,CAAC;AAAE,WAAQ,IAAE,GAAE,IAAE,GAAE,EAAE,GAAE;AAAC,UAAMG,KAAEH,GAAE,CAAC,IAAE;AAAE,IAAAF,GAAEK,KAAE,IAAE,MAAG,KAAG,GAAE,IAAE,CAAC;AAAA,EAAC;AAAC,SAAM,CAAC,GAAEC,IAAEL,EAAC;AAAC;AAAC,SAAS,EAAEI,IAAE,GAAE;AAAC,UAAMA,OAAIA,KAAE,CAAC;AAAG,QAAM,IAAE,WAAS,GAAEC,KAAE,aAAW,GAAEL,KAAE,CAAC,KAAG,CAACK;AAAE,EAAAD,GAAE,SAAO,KAAG,MAAIA,KAAE,CAAC,GAAGA,IAAE,GAAGA,EAAC;AAAG,QAAMH,KAAE,GAAEC,KAAE,IAAED;AAAE,MAAI,IAAE;AAAE,aAAUF,MAAKK,GAAE,MAAGL;AAAE,QAAMI,KAAE,KAAK,MAAM,IAAEF,EAAC,GAAE,IAAE,IAAI,aAAaE,KAAED,EAAC,GAAE,IAAE,MAAGD;AAAE,MAAI,IAAE,GAAE,IAAE,GAAE,IAAE,KAAG,IAAE;AAAG,aAAUF,MAAKK,IAAE;AAAC,SAAI,IAAE,GAAE,KAAGL,KAAEE,IAAE,KAAG,KAAG;AAAC,UAAIF,KAAE;AAAG,aAAKA,KAAEG,MAAG;AAAC,cAAME,MAAGL,KAAE,OAAII,KAAE,IAAE,KAAGG,KAAEN,MAAGD,KAAEE,OAAIF,KAAEE,MAAG,KAAK,IAAIF,KAAEE,EAAC;AAAE,UAAEG,EAAC,IAAE,IAAE,IAAE,KAAK,IAAI,KAAK,IAAI,IAAE,IAAE,GAAEE,EAAC,GAAE,KAAK,IAAI,IAAE,IAAE,GAAEA,EAAC,CAAC,IAAEA,KAAEN,KAAE,KAAK,KAAK,IAAE,MAAI,IAAE,KAAGM,KAAG,IAAE,MAAI,IAAE,KAAGA,EAAC,IAAED,KAAE,KAAK,IAAI,KAAK,IAAI,IAAE,GAAEC,EAAC,GAAE,KAAK,IAAI,IAAE,GAAEA,EAAC,CAAC,IAAE,KAAK,IAAI,KAAK,IAAI,IAAE,IAAE,GAAEA,EAAC,GAAE,KAAK,IAAI,IAAE,IAAE,GAAEA,EAAC,CAAC,GAAEP;AAAA,MAAG;AAAC;AAAA,IAAG;AAAC,QAAE,CAAC;AAAA,EAAC;AAAC,QAAM,IAAE,EAAE,QAAO,IAAE,IAAI,WAAW,IAAE,CAAC;AAAE,WAAQ,IAAE,GAAE,IAAE,GAAE,EAAE,GAAE;AAAC,UAAMK,MAAGJ,KAAE,KAAK,KAAK,EAAE,CAAC,CAAC,IAAE,EAAE,CAAC,KAAGC;AAAE,IAAAF,GAAEK,IAAE,GAAE,IAAE,CAAC;AAAA,EAAC;AAAC,SAAM,CAAC,GAAED,IAAED,EAAC;AAAC;",
  "names": ["o", "s", "i", "l", "c", "t", "n", "r"]
}
