{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/arcgisLayerUrl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{urlToObject as e,getOrigin as r,removeTrailingSlash as t,removeQueryParameters as s,join as n,Url as l,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const o={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",knowledgegraphserver:\"KnowledgeGraphServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\",\"3dtilesserver\":\"3DTilesServer\",videoserver:\"VideoServer\"},a=Object.values(o),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),f=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function p(e){return c.test(e)}function d(r){if(null==r)return null;const t=e(r),s=t?.path.match(c)||t?.path.match(v);if(!s)return null;const[,n,l,i,u]=s,a=l.indexOf(\"/\");return{title:m(-1!==a?l.slice(a+1):l),serverType:o[i.toLowerCase()],sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:n}}}function h(r){const t=e(r).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function m(e){return(e=e.replaceAll(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function w(e,r){const t=[];if(e){const r=d(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=m(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(\" - \")}function g(e){let t=r(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(\".arcgis.com\")&&(t.startsWith(\"services\")||t.startsWith(\"tiles\")||t.startsWith(\"features\")))}function y(e,r){return e?t(s(e,r)):e}function S(r){let{url:n}=r;if(!n)return{url:n};n=s(n,r.logger);const l=e(n),i=d(l.path);let u;if(null!=i)null!=i.sublayer&&null==r.layer.layerId&&(u=i.sublayer),n=i.url.path;else if(r.nonStandardUrlAllowed){const e=h(l.path);null!=e&&(n=e.serviceUrl,u=e.sublayerId)}return{url:t(n),layerId:u}}function C(e,r,t,s,l){u(r,s,\"url\",l),s.url&&null!=e.layerId&&(s.url=n(s.url,t,e.layerId.toString()))}function b(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function I(e){if(!e)return!1;const r=new l(i(e)),t=r.authority?.toLowerCase();return\"server.arcgisonline.com\"===t||\"services.arcgisonline.com\"===t}export{m as cleanTitle,p as isArcGISUrl,g as isHostedAgolService,I as isServerOrServicesAGOLUrl,b as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,y as sanitizeUrl,S as sanitizeUrlWithLayerId,a as serverTypes,w as titleFromUrlAndName,C as writeUrlWithLayerId};\n"],
  "mappings": "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",
  "names": ["a", "h", "r", "e", "I"]
}
