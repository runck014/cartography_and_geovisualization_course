{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/persistableUrlUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../kernel.js\";import{makeAbsolute as t,makeRelative as r,isAbsolute as s,normalize as o,isDataProtocol as n,splitPathExtension as l,changeDomain as a,hasSameOrigin as c,getAppUrl as i}from\"../core/urlUtils.js\";import{normalizeArcGISOnlineOrgDomain as u}from\"../portal/support/urlUtils.js\";function p(e,s){const o=s?.url?.path;if(e&&o&&(e=t(e,o,{preserveProtocolRelative:!0}),s.portalItem&&s.readResourcePaths)){const t=r(e,s.portalItem.itemUrl);null!=t&&v.test(t)&&s.readResourcePaths.push(s.portalItem.resourceFromPath(t).path)}return(e=I(e,s?.portal))&&d.test(e)?R(e):e}function m(e,l,a=y.YES){if(null==(e=e&&d.test(e)?w(e):e))return e;!s(e)&&l?.blockedRelativeUrls&&l.blockedRelativeUrls.push(e);let c=t(e);if(l){const t=l.verifyItemRelativeUrls?.rootPath||l.url?.path;if(t){const s=I(t,l.portal),o=I(c,l.portal);c=r(o,s,s);null!=c&&c!==o&&c!==e&&l.verifyItemRelativeUrls&&l.verifyItemRelativeUrls.writtenUrls.push(c)}}return c=x(c,l?.portal),s(c)&&(c=o(c)),l?.resources&&l?.portalItem&&!s(c)&&!n(c)&&a===y.YES&&l.resources.toKeep.push({resource:l.portalItem.resourceFromPath(c),compress:!1}),c}function f(e,t,r){return p(e,r)}function h(e,t,r,s){const o=m(e,s);void 0!==o&&(t[r]=o)}const d=/\\/items\\/([^/]+)\\/resources\\/(.*)/,v=/^\\.\\/resources\\//;function U(e){const t=e?.match(d)??null;return t?.[1]??null}function g(e){const t=e?.match(d)??null;if(null==t)return null;const r=t[2],s=r.lastIndexOf(\"/\");if(-1===s){const{path:e,extension:t}=l(r);return{prefix:null,filename:e,extension:t}}const{path:o,extension:n}=l(r.slice(s+1));return{prefix:r.slice(0,s),filename:o,extension:n}}function x(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?a(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function I(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=i();return c(s,`${s.scheme}://${r}`)?a(e,t.portalHostname,r):a(e,r,t.portalHostname)}function R(t){if(!t)return t||null;let r=t;return r&&e&&!e.findCredential(r)&&(r=u(r),r=r.replace(/^https?:\\/\\/www\\.arcgis\\.com/,\"https://cdn.arcgis.com\"),r=r.replace(/^https?:\\/\\/devext\\.arcgis\\.com/,\"https://cdndev.arcgis.com\"),r=r.replace(/^https?:\\/\\/qaext\\.arcgis\\.com/,\"https://cdnqa.arcgis.com\")),r}function w(t){if(!t)return t||null;let r=t;return r=r.replace(/^https?:\\/\\/cdn\\.arcgis\\.com/,\"https://www.arcgis.com\"),r=r.replace(/^https?:\\/\\/cdndev\\.arcgis\\.com/,\"https://devext.arcgis.com\"),r=r.replace(/^https?:\\/\\/cdnqa\\.arcgis\\.com/,\"https://qaext.arcgis.com\"),r&&e&&!e.findCredential(r)&&(r=u(r)),r}var y;!function(e){e[e.YES=0]=\"YES\",e[e.NO=1]=\"NO\"}(y||(y={}));const P=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return y},ensureMainOnlineDomain:x,fromCDNUrl:w,fromJSON:p,itemIdFromResourceUrl:U,prefixAndFilenameFromResourceUrl:g,read:f,toCDNUrl:R,toJSON:m,write:h},Symbol.toStringTag,{value:\"Module\"}));export{y as M,R as a,P as b,w as c,x as e,p as f,U as i,g as p,f as r,m as t,h as w};\n"],
  "mappings": "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",
  "names": ["r", "e", "t"]
}
