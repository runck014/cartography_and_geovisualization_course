import {
  u as u2,
  w as w2
} from "./chunk-ZFCZ2Q23.js";
import {
  t
} from "./chunk-Q4J5AN2X.js";
import {
  l,
  p
} from "./chunk-OJRG2YGM.js";
import {
  h,
  m,
  n as n2,
  n2 as n3
} from "./chunk-MBR7IVUG.js";
import {
  b
} from "./chunk-WGIZLWW7.js";
import {
  f
} from "./chunk-F26LCWNQ.js";
import {
  d,
  u,
  v2 as v
} from "./chunk-VNRDIGVF.js";
import {
  a
} from "./chunk-QRJFHPMB.js";
import {
  DateTime
} from "./chunk-Q7TEBZSN.js";
import {
  j2 as j,
  n,
  w
} from "./chunk-A3J7W53Y.js";
import {
  g
} from "./chunk-L6D73M4D.js";
import {
  c
} from "./chunk-P5H5PJSC.js";
import {
  s as s2
} from "./chunk-X7VTUWCX.js";
import {
  S
} from "./chunk-GRW2QIBT.js";
import {
  r,
  s
} from "./chunk-PKLD5YJF.js";

// node_modules/@arcgis/core/arcade/ArcadeModule.js
var s3 = class {
};

// node_modules/@arcgis/core/arcade/executionError.js
var r2;
!function(e2) {
  e2.AsyncNotEnabled = "AsyncNotEnabled", e2.ModulesNotSupported = "ModulesNotSupported", e2.CircularModules = "CircularModules", e2.CannotCompareDateAndTime = "CannotCompareDateAndTime", e2.NeverReach = "NeverReach", e2.UnsupportedHashType = "UnsupportedHashType", e2.InvalidParameter = "InvalidParameter", e2.FeatureSetDoesNotHaveSubtypes = "FeatureSetDoesNotHaveSubtypes", e2.UnexpectedToken = "UnexpectedToken", e2.Unrecognized = "Unrecognized", e2.UnrecognizedType = "UnrecognizedType", e2.MaximumCallDepth = "MaximumCallDepth", e2.BooleanConditionRequired = "BooleanConditionRequired", e2.TypeNotAllowedInFeature = "TypeNotAllowedInFeature", e2.KeyMustBeString = "KeyMustBeString", e2.WrongNumberOfParameters = "WrongNumberOfParameters", e2.CallNonFunction = "CallNonFunction", e2.NoFunctionInTemplateLiteral = "NoFunctionInTemplateLiteral", e2.NoFunctionInDictionary = "NoFunctionInDictionary", e2.NoFunctionInArray = "NoFunctionInArray", e2.AssignModuleFunction = "AssignModuleFunction", e2.LogicExpressionOrAnd = "LogicExpressionOrAnd", e2.LogicalExpressionOnlyBoolean = "LogicalExpressionOnlyBoolean", e2.FunctionNotFound = "FunctionNotFound", e2.InvalidMemberAccessKey = "InvalidMemberAccessKey", e2.UnsupportedUnaryOperator = "UnsupportUnaryOperator", e2.InvalidIdentifier = "InvalidIdentifier", e2.MemberOfNull = "MemberOfNull", e2.UnsupportedOperator = "UnsupportedOperator", e2.Cancelled = "Cancelled", e2.ModuleAccessorMustBeString = "ModuleAccessorMustBeString", e2.ModuleExportNotFound = "ModuleExportNotFound", e2.Immutable = "Immutable", e2.OutOfBounds = "OutOfBounds", e2.IllegalResult = "IllegalResult", e2.FieldNotFound = "FieldNotFound", e2.PortalRequired = "PortalRequired", e2.LogicError = "LogicError", e2.ArrayAccessorMustBeNumber = "ArrayAccessMustBeNumber", e2.KeyAccessorMustBeString = "KeyAccessorMustBeString", e2.WrongSpatialReference = "WrongSpatialReference", e2.CannotChangeTimeZoneTime = "CannotChangeTimeZoneTime", e2.CannotChangeTimeZoneDateOnly = "CannotChangeTimeZoneDateOnly";
}(r2 || (r2 = {}));
var o = { [r2.TypeNotAllowedInFeature]: "Feature attributes only support dates, numbers, strings, guids.", [r2.LogicError]: "Logic error - {reason}", [r2.CannotCompareDateAndTime]: "Cannot compare date or dateonly with timeonly types", [r2.NeverReach]: "Encountered unreachable logic", [r2.AsyncNotEnabled]: "Async Arcade must be enabled for this script", [r2.ModuleAccessorMustBeString]: "Module accessor must be a string", [r2.ModuleExportNotFound]: "Module has no export with provided identifier", [r2.ModulesNotSupported]: "Current profile does not support modules", [r2.ArrayAccessorMustBeNumber]: "Array accessor must be a number", [r2.FunctionNotFound]: "Function not found", [r2.FieldNotFound]: "Key not found - {key}", [r2.CircularModules]: "Circular module dependencies are not allowed", [r2.Cancelled]: "Execution cancelled", [r2.UnsupportedHashType]: "Type not supported in hash function", [r2.IllegalResult]: "Value is not a supported return type", [r2.PortalRequired]: "Portal is required", [r2.InvalidParameter]: "Invalid parameter", [r2.WrongNumberOfParameters]: "Call with wrong number of parameters", [r2.Unrecognized]: "Unrecognized code structure", [r2.UnrecognizedType]: "Unrecognized type", [r2.WrongSpatialReference]: "Cannot work with geometry in this spatial reference. It is different to the execution spatial reference", [r2.BooleanConditionRequired]: "Conditions must use booleans", [r2.NoFunctionInDictionary]: "Dictionaries cannot contain functions.", [r2.NoFunctionInArray]: "Arrays cannot contain functions.", [r2.NoFunctionInTemplateLiteral]: "Template Literals do not expect functions by value.", [r2.KeyAccessorMustBeString]: "Accessor must be a string", [r2.KeyMustBeString]: "Object keys must be a string", [r2.Immutable]: "Object is immutable", [r2.UnexpectedToken]: "Unexpected token", [r2.MemberOfNull]: "Cannot access property of null object", [r2.MaximumCallDepth]: "Exceeded maximum function depth", [r2.OutOfBounds]: "Out of bounds", [r2.InvalidIdentifier]: "Identifier not recognized", [r2.CallNonFunction]: "Expression is not a function", [r2.InvalidMemberAccessKey]: "Cannot access value using a key of this type", [r2.AssignModuleFunction]: "Cannot assign function to module variable", [r2.UnsupportedUnaryOperator]: "Unsupported unary operator", [r2.UnsupportedOperator]: "Unsupported operator", [r2.LogicalExpressionOnlyBoolean]: "Logical expressions must be boolean", [r2.LogicExpressionOrAnd]: "Logical expression can only be combined with || or &&", [r2.CannotChangeTimeZoneTime]: "Cannot change the timezone of a Time", [r2.CannotChangeTimeZoneDateOnly]: "Cannot change the timezone of a DateOnly", [r2.FeatureSetDoesNotHaveSubtypes]: "FeatureSet does not have subtypes" };
var n4 = class extends Error {
  constructor(...e2) {
    super(...e2);
  }
};
var t2 = class _t extends n4 {
  constructor(e2, r4) {
    super(s4(r4) + e2.message, { cause: e2 }), this.loc = null, Error.captureStackTrace && Error.captureStackTrace(this, _t), (r4 == null ? void 0 : r4.loc) && (this.loc = r4.loc);
  }
};
var a2 = class _a extends Error {
  constructor(r4, n6, t3, c3) {
    super("Execution error - " + s4(t3) + r(o[n6], c3)), this.loc = null, this.declaredRootClass = "esri.arcade.arcadeexecutionerror", Error.captureStackTrace && Error.captureStackTrace(this, _a), (t3 == null ? void 0 : t3.loc) && (this.loc = t3.loc);
  }
};
function s4(e2) {
  var _a, _b;
  return e2 && e2.loc ? `Line : ${(_a = e2.loc.start) == null ? void 0 : _a.line}, ${(_b = e2.loc.start) == null ? void 0 : _b.column}: ` : "";
}
var c2 = class _c extends Error {
  constructor(r4, n6, t3, a3) {
    super("Compilation error - " + s4(t3) + r(o[n6], a3)), this.loc = null, this.declaredRootClass = "esri.arcade.arcadecompilationerror", Error.captureStackTrace && Error.captureStackTrace(this, _c), (t3 == null ? void 0 : t3.loc) && (this.loc = t3.loc);
  }
};
var i = class _i extends Error {
  constructor() {
    super("Uncompilable code structures"), this.declaredRootClass = "esri.arcade.arcadeuncompilableerror", Error.captureStackTrace && Error.captureStackTrace(this, _i);
  }
};
function u3(e2, r4, o2) {
  return "esri.arcade.arcadeexecutionerror" === o2.declaredRootClass || "esri.arcade.arcadecompilationerror" === o2.declaredRootClass ? null === o2.loc && (r4 == null ? void 0 : r4.loc) ? new t2(o2, { cause: o2 }) : o2 : ("esri.arcade.featureset.support.featureseterror" === o2.declaredRootClass || "esri.arcade.featureset.support.sqlerror" === o2.declaredRootClass || o2.declaredRootClass, (r4 == null ? void 0 : r4.loc) ? new t2(o2, { cause: o2 }) : o2);
}
var l2;
!function(e2) {
  e2.UnrecognizedUri = "UnrecognizedUri", e2.UnsupportedUriProtocol = "UnsupportedUriProtocol";
}(l2 || (l2 = {}));
var d2 = { [l2.UnrecognizedUri]: "Unrecognized uri - {uri}", [l2.UnsupportedUriProtocol]: "Unrecognized uri protocol" };
var p2 = class _p extends Error {
  constructor(r4, o2) {
    super(r(d2[r4], o2)), this.declaredRootClass = "esri.arcade.arcademoduleerror", Error.captureStackTrace && Error.captureStackTrace(this, _p);
  }
};

// node_modules/@arcgis/core/arcade/FunctionWrapper.js
var r3 = class {
  constructor() {
  }
};
function n5(t3, n6, e2) {
  if (t3 instanceof r3 && !(t3 instanceof s5)) {
    const r4 = new s5();
    return r4.fn = t3, r4.parameterEvaluator = e2, r4.context = n6, r4;
  }
  return t3;
}
var e = class extends r3 {
  constructor(t3) {
    super(), this.fn = t3;
  }
  createFunction(t3) {
    return (...r4) => this.fn(t3, { preparsed: true, arguments: r4 });
  }
  call(t3, r4) {
    return this.fn(t3, r4);
  }
  marshalledCall(e2, a3, l3, c3) {
    return c3(e2, a3, (a4, o2, i3) => {
      i3 = i3.map((t3) => t3 instanceof r3 && !(t3 instanceof s5) ? n5(t3, e2, c3) : t3);
      const u4 = this.call(l3, { args: i3 });
      return S(u4) ? u4.then((t3) => n5(t3, l3, c3)) : u4;
    });
  }
};
var s5 = class extends r3 {
  constructor() {
    super(...arguments), this.fn = null, this.context = null;
  }
  createFunction(t3) {
    return this.fn.createFunction(this.context);
  }
  call(t3, r4) {
    return this.fn.marshalledCall(t3, r4, this.context, this.parameterEvaluator);
  }
  marshalledCall(t3, r4, n6) {
    return this.fn.marshalledCall(t3, r4, this.context, this.parameterEvaluator);
  }
};

// node_modules/@arcgis/core/arcade/ImmutablePointArray.js
var i2 = class _i extends t {
  constructor(t3, s6, i3, e2, h3, a3) {
    super(t3), this._lazyPt = [], this._hasZ = false, this._hasM = false, this._spRef = s6, this._hasZ = i3, this._hasM = e2, this._cacheId = h3, this._partId = a3;
  }
  get(t3) {
    if (void 0 === this._lazyPt[t3]) {
      const i3 = this._elements[t3];
      if (void 0 === i3) return;
      const e2 = this._hasZ, h3 = this._hasM;
      let a3;
      a3 = e2 && !h3 ? new j(i3[0], i3[1], i3[2], void 0, this._spRef) : h3 && !e2 ? new j(i3[0], i3[1], void 0, i3[2], this._spRef) : e2 && h3 ? new j(i3[0], i3[1], i3[2], i3[3], this._spRef) : new j(i3[0], i3[1], this._spRef), a3.cache._arcadeCacheId = this._cacheId.toString() + "-" + this._partId.toString() + "-" + t3.toString(), this._lazyPt[t3] = a3;
    }
    return this._lazyPt[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _i != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString() + "-" + this._partId.toString();
  }
};

// node_modules/@arcgis/core/arcade/ImmutablePathArray.js
var h2 = class _h extends t {
  constructor(t3, s6, h3, i3, e2) {
    super(t3), this._lazyPath = [], this._hasZ = false, this._hasM = false, this._hasZ = h3, this._hasM = i3, this._spRef = s6, this._cacheId = e2;
  }
  get(t3) {
    if (void 0 === this._lazyPath[t3]) {
      const h3 = this._elements[t3];
      if (void 0 === h3) return;
      this._lazyPath[t3] = new i2(h3, this._spRef, this._hasZ, this._hasM, this._cacheId, t3);
    }
    return this._lazyPath[t3];
  }
  equalityTest(t3) {
    return t3 === this || null !== t3 && (t3 instanceof _h != false && t3.getUniqueHash() === this.getUniqueHash());
  }
  getUniqueHash() {
    return this._cacheId.toString();
  }
};

// node_modules/@arcgis/core/chunks/languageUtils.js
var w3 = class {
  constructor(e2) {
    this.value = e2;
  }
};
var x = class {
  constructor(e2) {
    this.value = e2;
  }
};
var M = { type: "VOID" };
var O = Symbol("BREAK");
var R = Symbol("CONTINUE");
function J(e2, t3, n6) {
  return "" === t3 || null == t3 || t3 === n6 || t3 === n6 ? e2 : e2 = e2.split(t3).join(n6);
}
function v2(e2) {
  return e2 instanceof r3;
}
function _(e2) {
  return e2 instanceof s3;
}
function I(e2) {
  return !!P(e2) || (!!z(e2) || (!!ee(e2) || (!!te(e2) || (!!ne(e2) || (!!L(e2) || (null === e2 || (e2 === M || "number" == typeof e2)))))));
}
function Y(e2, t3) {
  return void 0 === e2 ? t3 : e2;
}
function G(e2) {
  return null == e2 ? "" : E(e2) || X(e2) ? "Array" : ee(e2) ? "Date" : ne(e2) ? "Time" : te(e2) ? "DateOnly" : P(e2) ? "String" : L(e2) ? "Boolean" : z(e2) ? "Number" : "esri.arcade.Attachment" === (e2 == null ? void 0 : e2.declaredClass) ? "Attachment" : "esri.arcade.Portal" === (e2 == null ? void 0 : e2.declaredClass) ? "Portal" : "esri.arcade.Dictionary" === (e2 == null ? void 0 : e2.declaredClass) ? "Dictionary" : $(e2) ? "KnowledgeGraph" : e2 instanceof s3 ? "Module" : U(e2) ? "Feature" : e2 instanceof j ? "Point" : e2 instanceof v ? "Polygon" : e2 instanceof d ? "Polyline" : e2 instanceof u ? "Multipoint" : e2 instanceof w ? "Extent" : v2(e2) ? "Function" : K(e2) ? "FeatureSet" : W(e2) ? "FeatureSetCollection" : e2 === M ? "" : "number" == typeof e2 && isNaN(e2) ? "Number" : "Unrecognized Type";
}
function P(e2) {
  return "string" == typeof e2 || e2 instanceof String;
}
function L(e2) {
  return "boolean" == typeof e2;
}
function z(e2) {
  return "number" == typeof e2;
}
function V(e2) {
  return "number" == typeof e2 && isFinite(e2) && Math.floor(e2) === e2;
}
function q(e2) {
  return e2 instanceof n;
}
function E(e2) {
  return Array.isArray(e2);
}
function U(e2) {
  return "esri.arcade.Feature" === (e2 == null ? void 0 : e2.arcadeDeclaredClass);
}
function H(e2) {
  return "esri.Graphic" === (e2 == null ? void 0 : e2.declaredClass);
}
function B(e2) {
  return e2 instanceof b;
}
function K(e2) {
  return "esri.arcade.featureset.support.FeatureSet" === (e2 == null ? void 0 : e2.declaredRootClass);
}
function Q(e2) {
  return "esri.arcade.Dictionary" === (e2 == null ? void 0 : e2.declaredClass);
}
function W(e2) {
  return "esri.arcade.featureSetCollection" === (e2 == null ? void 0 : e2.declaredRootClass);
}
function $(e2) {
  return "esri.rest.knowledgeGraph.KnowledgeGraph" === (e2 == null ? void 0 : e2.declaredClass);
}
function X(e2) {
  return e2 instanceof t;
}
function ee(e2) {
  return e2 instanceof m;
}
function te(e2) {
  return e2 instanceof n2;
}
function ne(e2) {
  return e2 instanceof n3;
}
function re(e2) {
  return null != e2 && "object" == typeof e2;
}
function ae(e2) {
  return e2 instanceof Date;
}
function ie(e2, t3, n6, r4, a3) {
  if (e2.length < t3 || e2.length > n6) throw new a2(r4, r2.WrongNumberOfParameters, a3);
}
function oe(e2) {
  return e2 < 0 ? -Math.round(-e2) : Math.round(e2);
}
function ue(e2, t3) {
  return isNaN(e2) || null == t3 || "" === t3 ? e2.toString() : (t3 = J(t3, "‰", ""), t3 = J(t3, "¤", ""), l(e2, { pattern: t3 }));
}
function se(e2, t3) {
  return null == t3 || "" === t3 ? e2.toISOString(true) : e2.toFormat(le(t3), { locale: c(), numberingSystem: "latn" });
}
function le(e2, t3 = false) {
  e2 = e2.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g, "[$&]");
  let n6 = "";
  const r4 = /(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;
  for (const a3 of e2.match(r4) || []) switch (a3) {
    case "D":
      n6 += "d";
      break;
    case "DD":
      n6 += "dd";
      break;
    case "DDD":
      n6 += "o";
      break;
    case "d":
      n6 += "c";
      break;
    case "ddd":
      n6 += "ccc";
      break;
    case "dddd":
      n6 += "cccc";
      break;
    case "M":
      n6 += "L";
      break;
    case "MM":
      n6 += "LL";
      break;
    case "MMM":
      n6 += "LLL";
      break;
    case "MMMM":
      n6 += "LLLL";
      break;
    case "YY":
      n6 += "yy";
      break;
    case "Y":
    case "YYYY":
      n6 += "yyyy";
      break;
    case "Q":
      n6 += "q";
      break;
    case "Z":
      n6 += "Z";
      break;
    case "ZZ":
      n6 += "ZZ";
      break;
    case "ZZZ":
      n6 += "ZZZ";
      break;
    case "ZZZZ":
      n6 += t3 ? "[ZZZZ]" : "ZZZZ";
      break;
    case "ZZZZZ":
      n6 += t3 ? "[ZZZZZ]" : "ZZZZZ";
      break;
    case "S":
      n6 += "'S'";
      break;
    case "SS":
      n6 += "'SS'";
      break;
    case "SSS":
      n6 += "u";
      break;
    case "A":
    case "a":
      n6 += "a";
      break;
    case "m":
    case "mm":
    case "h":
    case "hh":
    case "H":
    case "HH":
    case "s":
    case "ss":
    case "X":
    case "x":
      n6 += a3;
      break;
    default:
      a3.length >= 2 && "[" === a3.slice(0, 1) && "]" === a3.slice(-1) ? n6 += `'${a3.slice(1, -1)}'` : n6 += `'${a3}'`;
  }
  return n6;
}
function fe(e2, t3, n6) {
  switch (n6) {
    case ">":
      return e2 > t3;
    case "<":
      return e2 < t3;
    case ">=":
      return e2 >= t3;
    case "<=":
      return e2 <= t3;
  }
  return false;
}
function ce(e2, t3, r4) {
  if (null === e2) {
    if (null === t3 || t3 === M) return fe(null, null, r4);
    if (z(t3)) return fe(0, t3, r4);
    if (P(t3)) return fe(0, he(t3), r4);
    if (L(t3)) return fe(0, he(t3), r4);
    if (ee(t3)) return fe(0, t3.toNumber(), r4);
    if (ne(t3)) return fe(e2, t3.toNumber(), r4);
    if (te(t3)) return fe(e2, t3.toNumber(), r4);
  }
  if (e2 === M) {
    if (null === t3 || t3 === M) return fe(null, null, r4);
    if (z(t3)) return fe(0, t3, r4);
    if (P(t3)) return fe(0, he(t3), r4);
    if (L(t3)) return fe(0, he(t3), r4);
    if (ee(t3)) return fe(0, t3.toNumber(), r4);
    if (ne(t3)) return fe(e2, t3.toNumber(), r4);
    if (te(t3)) return fe(e2, t3.toNumber(), r4);
  } else if (z(e2)) {
    if (z(t3)) return fe(e2, t3, r4);
    if (L(t3)) return fe(e2, he(t3), r4);
    if (null === t3 || t3 === M) return fe(e2, 0, r4);
    if (P(t3)) return fe(e2, he(t3), r4);
    if (ee(t3)) return fe(e2, t3.toNumber(), r4);
    if (ne(t3)) return fe(e2, t3.toNumber(), r4);
    if (te(t3)) return fe(e2, t3.toNumber(), r4);
  } else if (P(e2)) {
    if (P(t3)) return fe(de(e2), de(t3), r4);
    if (ee(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (ne(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (te(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (z(t3)) return fe(he(e2), t3, r4);
    if (null === t3 || t3 === M) return fe(he(e2), 0, r4);
    if (L(t3)) return fe(he(e2), he(t3), r4);
  } else if (ee(e2)) {
    if (ee(t3)) return e2.timeZone !== t3.timeZone && (e2.isUnknownTimeZone ? e2 = m.arcadeDateAndZoneToArcadeDate(e2, t3.timeZone) : t3.isUnknownTimeZone && (t3 = m.arcadeDateAndZoneToArcadeDate(t3, e2.timeZone))), fe(e2.toNumber(), t3.toNumber(), r4);
    if (null === t3 || t3 === M) return fe(e2.toNumber(), 0, r4);
    if (z(t3)) return fe(e2.toNumber(), t3, r4);
    if (L(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (P(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (ne(t3)) throw new a2(null, r2.CannotCompareDateAndTime, null);
    if (te(t3)) return fe(e2.toNumber(), t3.toNumber(), r4);
  } else if (L(e2)) {
    if (L(t3)) return fe(e2, t3, r4);
    if (z(t3)) return fe(he(e2), he(t3), r4);
    if (ee(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (ne(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (te(t3)) return fe(he(e2), t3.toNumber(), r4);
    if (null === t3 || t3 === M) return fe(he(e2), 0, r4);
    if (P(t3)) return fe(he(e2), he(t3), r4);
  } else if (te(e2)) {
    if (ee(t3)) return fe(e2.toNumber(), t3.toNumber(), r4);
    if (null === t3 || t3 === M) return fe(e2.toNumber(), 0, r4);
    if (z(t3)) return fe(e2.toNumber(), t3, r4);
    if (L(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (P(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (ne(t3)) throw new a2(null, r2.CannotCompareDateAndTime, null);
    if (te(t3)) return fe(e2.toNumber(), t3.toNumber(), r4);
  } else if (ne(e2)) {
    if (ee(t3)) throw new a2(null, r2.CannotCompareDateAndTime, null);
    if (null === t3 || t3 === M) return fe(e2.toNumber(), 0, r4);
    if (z(t3)) return fe(e2.toNumber(), t3, r4);
    if (L(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (P(t3)) return fe(e2.toNumber(), he(t3), r4);
    if (ne(t3)) return fe(e2.toNumber(), t3.toNumber(), r4);
    if (te(t3)) throw new a2(null, r2.CannotCompareDateAndTime, null);
  }
  return !!me(e2, t3) && ("<=" === r4 || ">=" === r4);
}
function me(e2, t3) {
  if (e2 === t3) return true;
  if (null === e2 && t3 === M || null === t3 && e2 === M) return true;
  if (ee(e2) && ee(t3)) return e2.equals(t3);
  if (ne(e2) && ne(t3)) return e2.equals(t3);
  if (te(e2) && te(t3)) return e2.equals(t3);
  if (e2 instanceof h2) return e2.equalityTest(t3);
  if (e2 instanceof i2) return e2.equalityTest(t3);
  if (e2 instanceof j && t3 instanceof j) {
    const n6 = e2.cache._arcadeCacheId, r4 = t3.cache._arcadeCacheId;
    if (null != n6) return n6 === r4;
  }
  if (re(e2) && re(t3)) {
    if (e2._arcadeCacheId === t3._arcadeCacheId && void 0 !== e2._arcadeCacheId && null !== e2._arcadeCacheId) return true;
    if (e2._underlyingGraphic === t3._underlyingGraphic && void 0 !== e2._underlyingGraphic && null !== e2._underlyingGraphic) return true;
  }
  return false;
}
function de(e2, t3) {
  if (P(e2)) return e2;
  if (null === e2) return "";
  if (z(e2)) return ue(e2, t3);
  if (L(e2)) return e2.toString();
  if (ee(e2)) return se(e2, t3);
  if (ne(e2)) return e2.toFormat(t3);
  if (te(e2)) return e2.toFormat(t3);
  if (e2 instanceof n) return JSON.stringify(e2.toJSON());
  if (E(e2)) {
    const t4 = [];
    for (let n6 = 0; n6 < e2.length; n6++) t4[n6] = ge(e2[n6]);
    return "[" + t4.join(",") + "]";
  }
  if (e2 instanceof t) {
    const t4 = [];
    for (let n6 = 0; n6 < e2.length(); n6++) t4[n6] = ge(e2.get(n6));
    return "[" + t4.join(",") + "]";
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castToText ? e2.castToText() : v2(e2) ? "object, Function" : e2 === M ? "" : _(e2) ? "object, Module" : "";
}
function pe(e2) {
  const t3 = [];
  if (!E(e2)) return null;
  if (e2 instanceof t) {
    for (let n6 = 0; n6 < e2.length(); n6++) t3[n6] = he(e2.get(n6));
    return t3;
  }
  for (let n6 = 0; n6 < e2.length; n6++) t3[n6] = he(e2[n6]);
  return t3;
}
function ye(e2, t3, n6 = false) {
  if (P(e2)) return e2;
  if (null === e2) return "";
  if (z(e2)) return ue(e2, t3);
  if (L(e2)) return e2.toString();
  if (ee(e2)) return se(e2, t3);
  if (ne(e2)) return e2.toFormat(t3);
  if (te(e2)) return e2.toFormat(t3);
  if (e2 instanceof n) return e2 instanceof w ? '{"xmin":' + e2.xmin.toString() + ',"ymin":' + e2.ymin.toString() + "," + (e2.hasZ ? '"zmin":' + e2.zmin.toString() + "," : "") + (e2.hasM ? '"mmin":' + e2.mmin.toString() + "," : "") + '"xmax":' + e2.xmax.toString() + ',"ymax":' + e2.ymax.toString() + "," + (e2.hasZ ? '"zmax":' + e2.zmax.toString() + "," : "") + (e2.hasM ? '"mmax":' + e2.mmax.toString() + "," : "") + '"spatialReference":' + Fe(e2.spatialReference) + "}" : Fe(e2.toJSON(), (e3, t4) => e3.key === t4.key ? 0 : "spatialReference" === e3.key ? 1 : "spatialReference" === t4.key || e3.key < t4.key ? -1 : e3.key > t4.key ? 1 : 0);
  if (E(e2)) {
    const t4 = [];
    for (let r4 = 0; r4 < e2.length; r4++) t4[r4] = ge(e2[r4], n6);
    return "[" + t4.join(",") + "]";
  }
  if (e2 instanceof t) {
    const t4 = [];
    for (let r4 = 0; r4 < e2.length(); r4++) t4[r4] = ge(e2.get(r4), n6);
    return "[" + t4.join(",") + "]";
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castToText ? e2.castToText(n6) : v2(e2) ? "object, Function" : e2 === M ? "" : _(e2) ? "object, Module" : "";
}
function ge(e2, t3 = false) {
  if (null === e2) return "null";
  if (L(e2) || z(e2) || P(e2)) return JSON.stringify(e2);
  if (e2 instanceof n) return ye(e2, null, t3);
  if (e2 instanceof t) return ye(e2, null, t3);
  if (Array.isArray(e2)) return ye(e2, null, t3);
  if (ee(e2)) return t3 ? JSON.stringify(e2.getTime()) : JSON.stringify(se(e2, ""));
  if (ne(e2)) return JSON.stringify(e2.toString());
  if (te(e2)) return JSON.stringify(e2.toString());
  if (null !== e2 && "object" == typeof e2) {
    if (void 0 !== e2.castToText) return e2.castToText(t3);
  } else if (e2 === M) return "null";
  return "null";
}
function he(e2, t3) {
  return z(e2) ? e2 : null === e2 || "" === e2 ? 0 : ee(e2) || te(e2) || ne(e2) ? NaN : L(e2) ? e2 ? 1 : 0 : E(e2) || "" === e2 || void 0 === e2 ? NaN : void 0 !== t3 && P(e2) ? (t3 = J(t3, "‰", ""), t3 = J(t3, "¤", ""), p(e2, { pattern: t3 })) : e2 === M ? 0 : Number(e2);
}
function be(e2, t3) {
  if (ee(e2)) return e2;
  if (P(e2)) {
    const r4 = Ne(e2, t3);
    if (r4) return m.dateTimeToArcadeDate(r4);
  }
  return null;
}
function Ne(e2, t3) {
  const n6 = / (\d\d)/, a3 = h(t3);
  let i3 = DateTime.fromISO(e2, { zone: a3 });
  return i3.isValid || n6.test(e2) && (e2 = e2.replace(n6, "T$1"), i3 = DateTime.fromISO(e2, { zone: t3 }), i3.isValid) ? i3 : null;
}
function Se(e2) {
  return L(e2) ? e2 : P(e2) ? "true" === (e2 = e2.toLowerCase()) : !!z(e2) && (0 !== e2 && !isNaN(e2));
}
function Ze(e2, t3) {
  const n6 = JSON.parse(e2);
  return n6 && !n6.spatialReference && (n6.spatialReference = t3), f(n6);
}
function Ae(e2, t3) {
  return null == e2 ? null : (null !== e2.spatialReference && void 0 !== e2.spatialReference || (e2.spatialReference = t3), e2);
}
function Te(e2) {
  if (null === e2) return null;
  if (e2 instanceof j) return "NaN" === e2.x || null === e2.x || isNaN(e2.x) ? null : e2;
  if (e2 instanceof v) {
    if (0 === e2.rings.length) return null;
    for (const t3 of e2.rings) if (t3.length > 0) return e2;
    return null;
  }
  if (e2 instanceof d) {
    if (0 === e2.paths.length) return null;
    for (const t3 of e2.paths) if (t3.length > 0) return e2;
    return null;
  }
  return e2 instanceof u ? 0 === e2.points.length ? null : e2 : e2 instanceof w ? "NaN" === e2.xmin || null === e2.xmin || isNaN(e2.xmin) ? null : e2 : null;
}
function ke(e2, t3) {
  if (!e2) return t3;
  if (!e2.domain) return t3;
  let n6 = null, r4 = null;
  if (ee(t3)) n6 = t3.toNumber();
  else if (te(t3)) n6 = t3.toString();
  else if (ne(t3)) n6 = t3.toStorageString();
  else if ("string" === e2.field.type || "esriFieldTypeString" === e2.field.type) n6 = de(t3);
  else {
    if (null == t3) return null;
    if ("" === t3) return t3;
    n6 = he(t3);
  }
  for (let a3 = 0; a3 < e2.domain.codedValues.length; a3++) {
    const t4 = e2.domain.codedValues[a3];
    t4.code === n6 && (r4 = t4);
  }
  return null === r4 ? de(t3) : r4.name;
}
function Ce(e2, t3) {
  if (!e2) return t3;
  if (!e2.domain) return t3;
  let n6 = null;
  const r4 = de(t3);
  for (let a3 = 0; a3 < e2.domain.codedValues.length; a3++) {
    const t4 = e2.domain.codedValues[a3];
    t4.name === r4 && (n6 = t4);
  }
  return null === n6 ? t3 : n6.code;
}
function je(e2, t3, n6 = null, r4 = null) {
  if (!t3) return null;
  if (!t3.fields) return null;
  let a3, u4, s6 = null;
  for (let i3 = 0; i3 < t3.fields.length; i3++) {
    const n7 = t3.fields[i3];
    n7.name.toLowerCase() === e2.toString().toLowerCase() && (s6 = n7);
  }
  if (null === s6) throw new a2(null, r2.FieldNotFound, null, { key: e2 });
  let l3 = t3.typeIdField, f2 = "id", c3 = t3.types;
  if (t3.subtypeField && (l3 = t3.subtypeField, f2 = "code", c3 = t3.subtypes ?? []), null === r4 && n6 && l3) r4 = n6.hasField(l3) ? n6.field(l3) : null;
  else if (l3 && null !== r4) {
    let e3 = false;
    for (const t4 of c3 || []) if (r4 === t4[f2]) {
      e3 = true;
      break;
    }
    if (!e3) {
      for (const t4 of c3 || []) if (r4 === t4.name) {
        r4 = t4[f2], e3 = true;
        break;
      }
    }
    e3 || (r4 = null, n6 && l3 && (r4 = n6.hasField(l3) ? n6.field(l3) : null));
  }
  return null != r4 && c3.some((e3) => {
    var _a;
    return e3[f2] === r4 && (a3 = (_a = e3.domains) == null ? void 0 : _a[s6.name], a3 && "inherited" === a3.type && (a3 = De(s6.name, t3), u4 = true), true);
  }), u4 || a3 || (a3 = De(e2, t3)), { field: s6, domain: a3 };
}
function De(e2, t3) {
  let n6;
  return t3.fields.some((t4) => (t4.name.toLowerCase() === e2.toLowerCase() && (n6 = t4.domain), !!n6)), n6;
}
function Fe(e2, t3) {
  t3 || (t3 = {}), "function" == typeof t3 && (t3 = { cmp: t3 });
  const n6 = "boolean" == typeof t3.cycles && t3.cycles, r4 = t3.cmp && (a3 = t3.cmp, function(e3) {
    return function(t4, n7) {
      const r5 = { key: t4, value: e3[t4] }, i4 = { key: n7, value: e3[n7] };
      return a3(r5, i4);
    };
  });
  var a3;
  const i3 = [];
  return function e3(t4) {
    if ((t4 == null ? void 0 : t4.toJSON) && "function" == typeof t4.toJSON && (t4 = t4.toJSON()), void 0 === t4) return;
    if ("number" == typeof t4) return isFinite(t4) ? "" + t4 : "null";
    if ("object" != typeof t4) return JSON.stringify(t4);
    let a4, o2;
    if (Array.isArray(t4)) {
      for (o2 = "[", a4 = 0; a4 < t4.length; a4++) a4 && (o2 += ","), o2 += e3(t4[a4]) || "null";
      return o2 + "]";
    }
    if (null === t4) return "null";
    if (i3.includes(t4)) {
      if (n6) return JSON.stringify("__cycle__");
      throw new TypeError("Converting circular structure to JSON");
    }
    const u4 = i3.push(t4) - 1, s6 = Object.keys(t4).sort(r4 == null ? void 0 : r4(t4));
    for (o2 = "", a4 = 0; a4 < s6.length; a4++) {
      const n7 = s6[a4], r5 = e3(t4[n7]);
      r5 && (o2 && (o2 += ","), o2 += JSON.stringify(n7) + ":" + r5);
    }
    return i3.splice(u4, 1), "{" + o2 + "}";
  }(e2);
}
function we(e2) {
  if (null === e2) return null;
  const t3 = [];
  for (const n6 of e2) (n6 == null ? void 0 : n6.arcadeDeclaredClass) && "esri.arcade.Feature" === n6.arcadeDeclaredClass ? t3.push(n6.geometry()) : t3.push(n6);
  return t3;
}
function xe(e2, t3) {
  if (!(t3 instanceof j)) throw new a2(null, r2.InvalidParameter, null);
  e2.push(t3.hasZ ? t3.hasM ? [t3.x, t3.y, t3.z, t3.m] : [t3.x, t3.y, t3.z] : [t3.x, t3.y]);
}
function Me(e2, t3) {
  if (E(e2) || X(e2)) {
    let n6 = false, r4 = false, a3 = [], u4 = t3;
    if (E(e2)) {
      for (const t4 of e2) xe(a3, t4);
      a3.length > 0 && (u4 = e2[0].spatialReference, n6 = e2[0].hasZ, r4 = e2[0].hasM);
    } else if (e2 instanceof i2) a3 = e2._elements, a3.length > 0 && (n6 = e2._hasZ, r4 = e2._hasM, u4 = e2.get(0).spatialReference);
    else {
      if (!X(e2)) throw new a2(null, r2.InvalidParameter, null);
      for (const t4 of e2.toArray()) xe(a3, t4);
      a3.length > 0 && (u4 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r4 = true === e2.get(0).hasM);
    }
    if (0 === a3.length) return null;
    return a(a3) || (a3 = a3.slice().reverse()), new v({ rings: [a3], spatialReference: u4, hasZ: n6, hasM: r4 });
  }
  return e2;
}
function Oe(e2, t3) {
  if (E(e2) || X(e2)) {
    let n6 = false, r4 = false, a3 = [], i3 = t3;
    if (E(e2)) {
      for (const t4 of e2) xe(a3, t4);
      a3.length > 0 && (i3 = e2[0].spatialReference, n6 = true === e2[0].hasZ, r4 = true === e2[0].hasM);
    } else if (e2 instanceof i2) a3 = e2._elements, a3.length > 0 && (n6 = e2._hasZ, r4 = e2._hasM, i3 = e2.get(0).spatialReference);
    else if (X(e2)) {
      for (const t4 of e2.toArray()) xe(a3, t4);
      a3.length > 0 && (i3 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r4 = true === e2.get(0).hasM);
    }
    return 0 === a3.length ? null : new d({ paths: [a3], spatialReference: i3, hasZ: n6, hasM: r4 });
  }
  return e2;
}
function Re(e2, t3) {
  if (E(e2) || X(e2)) {
    let n6 = false, r4 = false, a3 = [], i3 = t3;
    if (E(e2)) {
      for (const t4 of e2) xe(a3, t4);
      a3.length > 0 && (i3 = e2[0].spatialReference, n6 = true === e2[0].hasZ, r4 = true === e2[0].hasM);
    } else if (e2 instanceof i2) a3 = e2._elements, a3.length > 0 && (n6 = e2._hasZ, r4 = e2._hasM, i3 = e2.get(0).spatialReference);
    else if (X(e2)) {
      for (const t4 of e2.toArray()) xe(a3, t4);
      a3.length > 0 && (i3 = e2.get(0).spatialReference, n6 = true === e2.get(0).hasZ, r4 = true === e2.get(0).hasM);
    }
    return 0 === a3.length ? null : new u({ points: a3, spatialReference: i3, hasZ: n6, hasM: r4 });
  }
  return e2;
}
function Je(e2, t3 = false) {
  const n6 = [];
  if (null === e2) return n6;
  if (true === E(e2)) {
    for (let r4 = 0; r4 < e2.length; r4++) {
      const a3 = de(e2[r4]);
      "" === a3 && true !== t3 || n6.push(a3);
    }
    return n6;
  }
  if (e2 instanceof t) {
    for (let r4 = 0; r4 < e2.length(); r4++) {
      const a3 = de(e2.get(r4));
      "" === a3 && true !== t3 || n6.push(a3);
    }
    return n6;
  }
  if (I(e2)) {
    const r4 = de(e2);
    return "" === r4 && true !== t3 || n6.push(r4), n6;
  }
  return [];
}
var ve = 0;
function _e(e2) {
  return ve++, ve % 100 == 0 ? (ve = 0, new Promise((t3) => {
    setTimeout(() => {
      t3(e2);
    }, 0);
  })) : e2;
}
function Ie(e2, t3, n6) {
  switch (n6) {
    case "&":
      return e2 & t3;
    case "|":
      return e2 | t3;
    case "^":
      return e2 ^ t3;
    case "<<":
      return e2 << t3;
    case ">>":
      return e2 >> t3;
    case ">>>":
      return e2 >>> t3;
  }
}
function Ye(e2, t3 = null) {
  return null == e2 ? null : L(e2) || z(e2) || P(e2) ? e2 : e2 instanceof n ? true === (t3 == null ? void 0 : t3.keepGeometryType) ? e2 : e2.toJSON() : e2 instanceof t ? e2.toArray().map((e3) => Ye(e3, t3)) : Array.isArray(e2) ? e2.map((e3) => Ye(e3, t3)) : ae(e2) ? e2 : ee(e2) ? e2.toJSDate() : ne(e2) ? e2.toString() : te(e2) ? e2.toJSDate() : null !== e2 && "object" == typeof e2 && void 0 !== e2.castAsJson ? e2.castAsJson(t3) : null;
}
async function Ge(e2, t3, n6, r4, a3) {
  const i3 = await Pe(e2, t3, n6);
  a3[r4] = i3;
}
async function Pe(e2, t3 = null, n6 = null) {
  if (e2 instanceof t && (e2 = e2.toArray()), null == e2) return null;
  if (I(e2) || e2 instanceof n || ae(e2) || ee(e2)) return Ye(e2, n6);
  if (Array.isArray(e2)) {
    const r4 = [], a3 = [];
    for (const i3 of e2) null === i3 || I(i3) || i3 instanceof n || ae(i3) || ee(i3) ? a3.push(Ye(i3, n6)) : (a3.push(null), r4.push(Ge(i3, t3, n6, a3.length - 1, a3)));
    return r4.length > 0 && await Promise.all(r4), a3;
  }
  return null !== e2 && "object" == typeof e2 && void 0 !== e2.castAsJsonAsync ? e2.castAsJsonAsync(t3, n6) : null;
}
function Le(e2) {
  return ze(e2) ? e2.parent : e2;
}
function ze(e2) {
  return e2 && "declaredClass" in e2 && "esri.layers.support.SubtypeSublayer" === e2.declaredClass;
}
function Ve(e2) {
  return e2 && "declaredClass" in e2 && "esri.layers.SubtypeGroupLayer" === e2.declaredClass;
}
function qe(e2, t3, n6) {
  const r4 = Le(e2.fullSchema());
  if (null === r4) return null;
  if (!r4.fields) return null;
  return je(t3, r4, e2, n6);
}
function Ee(e2) {
  const t3 = Le(e2.fullSchema());
  return null === t3 ? null : t3.fields ? t3.subtypeField ? { subtypeField: t3.subtypeField, subtypes: t3.subtypes ? t3.subtypes.map((e3) => ({ name: e3.name, code: e3.code })) : [] } : t3.typeIdField ? { subtypeField: t3.typeIdField, subtypes: t3.types ? t3.types.map((e3) => ({ name: e3.name, code: e3.id })) : [] } : null : null;
}
function Ue(e2, t3, n6, r4) {
  const a3 = Le(e2.fullSchema());
  if (null === a3) return null;
  if (!a3.fields) return null;
  const i3 = je(t3, a3, e2, r4);
  if (void 0 === n6) try {
    n6 = e2.field(t3);
  } catch (o2) {
    return null;
  }
  return ke(i3, n6);
}
function He(e2, t3, n6, r4) {
  const a3 = Le(e2.fullSchema());
  if (null === a3) return null;
  if (!a3.fields) return null;
  if (void 0 === n6) {
    try {
      n6 = e2.field(t3);
    } catch (i3) {
      return null;
    }
    return n6;
  }
  return Ce(je(t3, a3, e2, r4), n6);
}
function Be(e2) {
  return (e2 == null ? void 0 : e2.timeZone) ?? "system";
}
function Ke(e2) {
  const t3 = Le(e2.fullSchema());
  if (null === t3) return null;
  if (!t3.fields) return null;
  const n6 = [];
  for (const r4 of t3.fields) n6.push(u2(r4));
  return { objectIdField: t3.objectIdField, globalIdField: t3.globalIdField ?? "", geometryType: void 0 === w2[t3.geometryType] ? "" : w2[t3.geometryType], fields: n6 };
}
function Qe(r4, a3) {
  return "system" === r4 && (r4 = m.systemTimeZoneCanonicalName), { version: We, engineVersion: s2, timeZone: r4, spatialReference: a3 instanceof g ? a3.toJSON() : a3, application: s.applicationName ?? "", engine: "web", locale: c() };
}
var We = "1.28";
var $e = Object.freeze(Object.defineProperty({ __proto__: null, ImplicitResult: x, ReturnResult: w3, absRound: oe, arcadeVersion: We, autoCastArrayOfPointsToMultiPoint: Re, autoCastArrayOfPointsToPolygon: Me, autoCastArrayOfPointsToPolyline: Oe, autoCastFeatureToGeometry: we, binaryOperator: Ie, breakResult: O, castAsJson: Ye, castAsJsonAsync: Pe, continueResult: R, defaultExecutingContext: Qe, defaultTimeZone: Be, defaultUndefined: Y, equalityTest: me, featureDomainCodeLookup: He, featureDomainValueLookup: Ue, featureFullDomain: qe, featureSchema: Ke, featureSubtypes: Ee, fixNullGeometry: Te, fixSpatialReference: Ae, formatDate: se, formatNumber: ue, getDomain: je, getDomainCode: Ce, getDomainValue: ke, getType: G, greaterThanLessThan: ce, isArray: E, isBoolean: L, isDate: ee, isDateOnly: te, isDictionary: Q, isFeature: U, isFeatureSet: K, isFeatureSetCollection: W, isFunctionParameter: v2, isGeometry: q, isGraphic: H, isImmutableArray: X, isInteger: V, isJsDate: ae, isKnowledgeGraph: $, isModule: _, isNumber: z, isObject: re, isQuery: B, isSimpleType: I, isString: P, isSubtypeGrouplayer: Ve, isSubtypeSublayer: ze, isTime: ne, multiReplace: J, parseGeometryFromJson: Ze, pcCheck: ie, stableStringify: Fe, standardiseDateFormat: le, tick: _e, toBoolean: Se, toDate: be, toNumber: he, toNumberArray: pe, toString: de, toStringArray: Je, toStringExplicit: ye, voidOperation: M }, Symbol.toStringTag, { value: "Module" }));

export {
  s3 as s,
  r2 as r,
  a2 as a,
  c2 as c,
  i,
  u3 as u,
  l2 as l,
  p2 as p,
  r3 as r2,
  n5 as n,
  e,
  s5 as s2,
  i2,
  h2 as h,
  w3 as w,
  x,
  M,
  O,
  R,
  J,
  v2 as v,
  I,
  Y,
  G,
  P,
  L,
  z,
  V,
  q,
  E,
  U,
  H,
  K,
  Q,
  W,
  $,
  X,
  ee,
  te,
  ne,
  ae,
  ie,
  oe,
  le,
  ce,
  me,
  de,
  pe,
  ye,
  he,
  be,
  Se,
  Ae,
  Te,
  ke,
  Ce,
  je,
  we,
  Me,
  Oe,
  Re,
  Je,
  _e,
  Ie,
  Ye,
  Pe,
  ze,
  qe,
  Ee,
  Ue,
  He,
  Be,
  Ke,
  Qe,
  $e
};
//# sourceMappingURL=chunk-DP4BKMXB.js.map
