import {
  T
} from "./chunk-YJ2ZDYJK.js";
import "./chunk-K3DZ25FR.js";
import "./chunk-TITCAM2J.js";
import "./chunk-7YNV23MG.js";
import "./chunk-24JRIC5L.js";
import "./chunk-4RG73KY7.js";
import "./chunk-A33GYYOL.js";
import {
  n as n5,
  p as p2
} from "./chunk-ANP4SJL6.js";
import "./chunk-ER5KJVHG.js";
import "./chunk-Y24KYRDB.js";
import "./chunk-BF46TBV5.js";
import "./chunk-H4E2VVPD.js";
import "./chunk-CTU2XDPA.js";
import "./chunk-LZ4VG2QF.js";
import "./chunk-GT4YOV7H.js";
import "./chunk-3GYJQZ7U.js";
import "./chunk-LKSPV4ZE.js";
import "./chunk-QB7C6VGC.js";
import "./chunk-TKIFUSBT.js";
import "./chunk-BIXTRT5D.js";
import "./chunk-5OE5J4F6.js";
import "./chunk-RON7HSX6.js";
import "./chunk-3SYUQL4E.js";
import "./chunk-XWTALKKJ.js";
import "./chunk-JWQMRQX4.js";
import "./chunk-24OTECJ5.js";
import "./chunk-EYETIQ6R.js";
import "./chunk-DFLI5RC4.js";
import "./chunk-QYSQ6XPQ.js";
import "./chunk-YYZ2CTYE.js";
import "./chunk-HZRXUNDJ.js";
import "./chunk-XKMN3LJN.js";
import "./chunk-2U5JYYSG.js";
import "./chunk-GGPPKSP2.js";
import "./chunk-EA7CPLTC.js";
import {
  e as e3,
  l
} from "./chunk-SI5IJ3AZ.js";
import "./chunk-7ZA6GWGF.js";
import "./chunk-JU4Z6UVP.js";
import "./chunk-JHXGQ3AW.js";
import "./chunk-MR727DXB.js";
import "./chunk-VLKWWBLY.js";
import "./chunk-GNY4KZ34.js";
import "./chunk-WPERPIJF.js";
import "./chunk-Q3BBONW3.js";
import "./chunk-5IA763KB.js";
import "./chunk-QKS6PIY6.js";
import "./chunk-R5BTSPWT.js";
import "./chunk-Z2L6EED4.js";
import "./chunk-43W2AR4R.js";
import "./chunk-X5EOLPIE.js";
import "./chunk-VNPGSD2C.js";
import "./chunk-PJALR7VA.js";
import "./chunk-AFULL6KA.js";
import "./chunk-URFLFG2R.js";
import "./chunk-CE7WVJQV.js";
import "./chunk-LCFK6PEB.js";
import "./chunk-GJTB7YCT.js";
import "./chunk-LQEYS467.js";
import "./chunk-A66MNK5C.js";
import "./chunk-EPAKCM4A.js";
import "./chunk-RCGJPJRB.js";
import "./chunk-5CRXWQ3Y.js";
import "./chunk-G54IOEGF.js";
import "./chunk-EP5G3AVD.js";
import "./chunk-VH245UJV.js";
import {
  e as e2
} from "./chunk-HJ7SKBLO.js";
import {
  A
} from "./chunk-WH2FR6UE.js";
import "./chunk-F3W2DG3D.js";
import "./chunk-YMJZWW2N.js";
import "./chunk-7Q4JSL7R.js";
import "./chunk-VBJTBJYL.js";
import "./chunk-ES2OYM5K.js";
import "./chunk-JXPOROPE.js";
import "./chunk-OPBXQTOC.js";
import "./chunk-DKMSVKV3.js";
import "./chunk-YIIXBP6I.js";
import {
  S as S2
} from "./chunk-LN6VH2LB.js";
import "./chunk-GZFJKWTS.js";
import {
  f as f4
} from "./chunk-2DHZIDQK.js";
import "./chunk-EFVIMN4N.js";
import {
  L,
  m as m4
} from "./chunk-GKIKLM2L.js";
import {
  m as m2
} from "./chunk-5RVYVWSZ.js";
import {
  n as n6,
  s as s5
} from "./chunk-HFPXZJAJ.js";
import "./chunk-6GD5IU2W.js";
import "./chunk-XQ3CVA7I.js";
import "./chunk-SW3IBIJ7.js";
import "./chunk-E54MA7AH.js";
import "./chunk-6TU4HBID.js";
import "./chunk-SX2OLFE7.js";
import "./chunk-WGIZLWW7.js";
import "./chunk-B3SR7LF7.js";
import "./chunk-PUOCGOJB.js";
import "./chunk-XQH2QDB2.js";
import "./chunk-LPNAPHOF.js";
import "./chunk-DBQLTBDH.js";
import "./chunk-AMH7OVBF.js";
import {
  i as i2
} from "./chunk-SUZN3TAH.js";
import "./chunk-LXJGKQ4D.js";
import "./chunk-VILGTHTP.js";
import "./chunk-ATEWWVHG.js";
import "./chunk-LEOFRCUR.js";
import "./chunk-CP4GPQHD.js";
import "./chunk-IZSNXKMJ.js";
import "./chunk-IOKAACTA.js";
import "./chunk-VFTH6C2E.js";
import {
  i
} from "./chunk-M5RSIRGD.js";
import "./chunk-D2JPDRZZ.js";
import {
  r as r3
} from "./chunk-UYSPJCCV.js";
import "./chunk-LBNHIRVG.js";
import {
  f as f3
} from "./chunk-B5NBTUMV.js";
import "./chunk-BB6L755V.js";
import {
  t
} from "./chunk-TCZ4QHYH.js";
import "./chunk-SMFCDOAJ.js";
import "./chunk-2HEBE37N.js";
import {
  p
} from "./chunk-5A4G4OVM.js";
import "./chunk-MGMVRMXQ.js";
import "./chunk-GNWAZIVF.js";
import "./chunk-2TEGRXBS.js";
import {
  s as s4
} from "./chunk-44C2A72D.js";
import "./chunk-DIKY6MBW.js";
import "./chunk-YVSEBNS4.js";
import "./chunk-GGCWKF4X.js";
import "./chunk-6D5XULXX.js";
import "./chunk-445IB4DS.js";
import "./chunk-Y2XCZQML.js";
import {
  n as n4
} from "./chunk-SW4DFX7N.js";
import "./chunk-2PK57UYA.js";
import {
  f as f2
} from "./chunk-F26LCWNQ.js";
import "./chunk-H4N5QOMX.js";
import "./chunk-F2LC36UV.js";
import "./chunk-6Y2LNRVP.js";
import "./chunk-VNRDIGVF.js";
import "./chunk-QRJFHPMB.js";
import "./chunk-G6REFQRQ.js";
import "./chunk-Z2DWZ5IF.js";
import "./chunk-TDZ623HP.js";
import "./chunk-6RLUKSNK.js";
import "./chunk-VEUN2EF3.js";
import "./chunk-UN4ISSP7.js";
import "./chunk-E2RPCJOE.js";
import {
  w as w2
} from "./chunk-TKY5RBM3.js";
import "./chunk-NHJGPXZH.js";
import {
  o as o2
} from "./chunk-JS7R723S.js";
import {
  V
} from "./chunk-SIQNRYEG.js";
import "./chunk-TTDEVHSF.js";
import "./chunk-QSRFVAIF.js";
import "./chunk-X6JBJVM2.js";
import "./chunk-Q7TEBZSN.js";
import {
  S
} from "./chunk-BMGF5ELJ.js";
import {
  b as b2
} from "./chunk-JU6MEO4D.js";
import {
  m as m3
} from "./chunk-CY5MS6DC.js";
import "./chunk-C6FFJ4QS.js";
import {
  n as n3
} from "./chunk-Q4Q32WYV.js";
import {
  R
} from "./chunk-A3J7W53Y.js";
import {
  o
} from "./chunk-HLF5XJSV.js";
import {
  g,
  r as r2
} from "./chunk-L6D73M4D.js";
import "./chunk-P5H5PJSC.js";
import {
  s as s3
} from "./chunk-H6RIEXAG.js";
import "./chunk-Y6AYXNMP.js";
import "./chunk-6YWQXXBX.js";
import "./chunk-DRBJFCLQ.js";
import {
  n as n2
} from "./chunk-7O7KFKCG.js";
import "./chunk-E2X3OBBC.js";
import {
  s as s2
} from "./chunk-X7VTUWCX.js";
import {
  dt,
  kt,
  ot,
  tt
} from "./chunk-QS62R4CH.js";
import {
  d,
  f
} from "./chunk-VU6O6TFT.js";
import {
  b2 as b,
  m
} from "./chunk-GD4XDYZL.js";
import {
  _,
  a4 as a2,
  w,
  x
} from "./chunk-33ECLFFF.js";
import {
  r
} from "./chunk-MV5XBD6C.js";
import "./chunk-L6CCOEVE.js";
import {
  k
} from "./chunk-GRW2QIBT.js";
import {
  u
} from "./chunk-R2PAF6JT.js";
import "./chunk-6WE7SNQY.js";
import {
  a,
  e,
  n2 as n,
  s2 as s
} from "./chunk-PKLD5YJF.js";
import {
  F
} from "./chunk-XKQWTZMW.js";
import "./chunk-A4OFG7JM.js";

// node_modules/@arcgis/core/layers/support/FacilityLayerInfo.js
var s6 = class extends f {
  constructor(r4) {
    super(r4), this.facilityIdField = null, this.layerId = null, this.nameField = null, this.siteIdField = null, this.sublayerId = null;
  }
};
r([m({ type: String, json: { write: true } })], s6.prototype, "facilityIdField", void 0), r([m({ type: String, json: { write: true } })], s6.prototype, "layerId", void 0), r([m({ type: String, json: { write: true } })], s6.prototype, "nameField", void 0), r([m({ type: String, json: { write: true } })], s6.prototype, "siteIdField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], s6.prototype, "sublayerId", void 0), s6 = r([a2("esri.layers.support.FacilityLayerInfo")], s6);
var i3 = s6;

// node_modules/@arcgis/core/layers/support/LevelLayerInfo.js
var i4 = class extends f {
  constructor(e5) {
    super(e5), this.facilityIdField = null, this.layerId = null, this.levelIdField = null, this.levelNumberField = null, this.longNameField = null, this.shortNameField = null, this.sublayerId = null, this.verticalOrderField = null;
  }
};
r([m({ type: String, json: { write: true } })], i4.prototype, "facilityIdField", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "layerId", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "levelIdField", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "levelNumberField", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "longNameField", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "shortNameField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], i4.prototype, "sublayerId", void 0), r([m({ type: String, json: { write: true } })], i4.prototype, "verticalOrderField", void 0), i4 = r([a2("esri.layers.support.LevelLayerInfo")], i4);
var s7 = i4;

// node_modules/@arcgis/core/layers/support/SiteLayerInfo.js
var s8 = class extends f {
  constructor(r4) {
    super(r4), this.layerId = null, this.nameField = null, this.siteIdField = null, this.sublayerId = null;
  }
};
r([m({ type: String, json: { write: true } })], s8.prototype, "layerId", void 0), r([m({ type: String, json: { write: true } })], s8.prototype, "nameField", void 0), r([m({ type: String, json: { write: true } })], s8.prototype, "siteIdField", void 0), r([m({ type: Number, json: { read: { source: "subLayerId" }, write: { target: "subLayerId" }, origins: { "web-scene": { read: false, write: false } } } })], s8.prototype, "sublayerId", void 0), s8 = r([a2("esri.layers.support.SiteLayerInfo")], s8);
var i5 = s8;

// node_modules/@arcgis/core/support/MapFloorInfo.js
var a3 = class extends f {
  constructor(r4) {
    super(r4), this.levelLayer = null, this.facilityLayer = null, this.siteLayer = null;
  }
};
r([m({ type: s7, json: { write: true } })], a3.prototype, "levelLayer", void 0), r([m({ type: i3, json: { write: true } })], a3.prototype, "facilityLayer", void 0), r([m({ type: i5, json: { write: true } })], a3.prototype, "siteLayer", void 0), a3 = r([a2("esri.support.MapFloorInfo")], a3);
var l2 = a3;

// node_modules/@arcgis/core/webdoc/RangeInfo.js
var s9;
var a4 = s9 = class extends f {
  constructor(e5) {
    super(e5), this.activeRange = null, this.currentRangeExtent = null, this.fullRangeExtent = null;
  }
  clone() {
    return new s9(a({ activeRange: this.activeRange, currentRangeExtent: this.currentRangeExtent, fullRangeExtent: this.fullRangeExtent }));
  }
};
r([m({ type: String, nonNullable: true, json: { read: { source: "activeRangeName" }, write: { target: "activeRangeName", isRequired: true } } })], a4.prototype, "activeRange", void 0), r([m({ type: [Number], json: { write: true } })], a4.prototype, "currentRangeExtent", void 0), r([m({ type: [Number], json: { write: true } })], a4.prototype, "fullRangeExtent", void 0), a4 = s9 = r([a2("esri.webdoc.RangeInfo")], a4);
var c = a4;

// node_modules/@arcgis/core/webdoc/widgets/FloorFilter.js
var s10;
var l3 = s10 = class extends f {
  constructor(e5) {
    super(e5), this.enabled = false, this.longNames = false, this.minimized = false, this.pinnedLevels = false, this.site = null, this.facility = null, this.level = null;
  }
  clone() {
    return new s10(a({ enabled: this.enabled, longNames: this.longNames, minimized: this.minimized, pinnedLevels: this.pinnedLevels, site: this.site, facility: this.facility, level: this.level }));
  }
};
r([m({ type: Boolean, json: { read: { source: "enabled" }, write: { target: "enabled" } } })], l3.prototype, "enabled", void 0), r([m({ type: Boolean, json: { read: { source: "longNames" }, write: { target: "longNames" } } })], l3.prototype, "longNames", void 0), r([m({ type: Boolean, json: { read: { source: "minimized" }, write: { target: "minimized" } } })], l3.prototype, "minimized", void 0), r([m({ type: Boolean, json: { read: { source: "pinnedLevels" }, write: { target: "pinnedLevels" } } })], l3.prototype, "pinnedLevels", void 0), r([m({ type: String, json: { read: { source: "site" }, write: { target: "site" } } })], l3.prototype, "site", void 0), r([m({ type: String, json: { read: { source: "facility" }, write: { target: "facility" } } })], l3.prototype, "facility", void 0), r([m({ type: String, json: { read: { source: "level" }, write: { target: "level" } } })], l3.prototype, "level", void 0), l3 = s10 = r([a2("esri.webdoc.widgets.FloorFilter")], l3);
var n7 = l3;

// node_modules/@arcgis/core/webdoc/widgets/Range.js
var n8;
var p3 = new n2({ slider: "slider", picker: "picker" });
var a5 = n8 = class extends f {
  constructor(e5) {
    super(e5), this.interactionMode = null, this.numStops = null, this.stopInterval = null;
  }
  clone() {
    return new n8({ interactionMode: this.interactionMode, numStops: this.numStops, stopInterval: this.stopInterval });
  }
};
r([m({ type: p3.apiValues, nonNullable: true, json: { type: p3.jsonValues, default: null, read: { reader: p3.read }, write: { isRequired: true, writer: p3.write } } })], a5.prototype, "interactionMode", void 0), r([m({ type: x, json: { read: { source: "numberOfStops" }, write: { target: "numberOfStops", overridePolicy() {
  const e5 = null != this.stopInterval;
  return { enabled: !e5, isRequired: !e5 };
} } } })], a5.prototype, "numStops", void 0), r([m({ type: Number, json: { write: { overridePolicy() {
  return { isRequired: null == this.numStops };
} } } })], a5.prototype, "stopInterval", void 0), a5 = n8 = r([a2("esri.webdoc.widgets.Range")], a5);
var u2 = a5;

// node_modules/@arcgis/core/webdoc/widgets/TimeSlider.js
var d2;
var T2 = d2 = class extends f {
  constructor(t4) {
    super(t4), this.currentTimeExtent = null, this.fullTimeExtent = null, this.loop = false, this.numStops = null, this.numThumbs = null, this.stopDelay = null, this.stopInterval = null, this.stops = null;
  }
  readCurrentTimeExtent(t4) {
    return t4 ? p.fromArray(t4) : void 0;
  }
  writeCurrentTimeExtent(t4, e5, r4) {
    t4 && e(r4, t4.toArray(), e5);
  }
  readFullTimeExtent(t4, e5) {
    const r4 = e5.properties;
    if (!r4) return;
    const o5 = null != r4.endTime ? new Date(r4.endTime) : null, s11 = null != r4.startTime ? new Date(r4.startTime) : null;
    return new p({ start: s11, end: o5 });
  }
  writeFullTimeExtent(t4, e5) {
    if (!t4) return;
    const r4 = e5.properties = e5.properties || {}, o5 = t4.end, s11 = t4.start;
    o5 && (r4.endTime = null != o5 ? o5.getTime() : null), s11 && (r4.startTime = null != s11 ? s11.getTime() : null);
  }
  readStopInterval(t4, e5, r4) {
    return t4 ? l.fromJSON({ value: t4.interval, unit: t4.units }, r4) : null;
  }
  writeStopInterval(t4, e5, r4, s11) {
    if (!t4) return;
    const p15 = t4.toJSON(s11);
    e("properties.timeStopInterval", { interval: p15.value, units: p15.unit }, e5);
  }
  readStops(t4) {
    return (t4 == null ? void 0 : t4.length) ? t4.map((t5) => new Date(t5)) : null;
  }
  writeStops(t4, e5, r4) {
    (t4 == null ? void 0 : t4.length) && e(r4, t4.map((t5) => t5.getTime()), e5);
  }
  clone() {
    return new d2(a({ currentTimeExtent: this.currentTimeExtent, fullTimeExtent: this.fullTimeExtent, loop: this.loop, numStops: this.numStops, numThumbs: this.numThumbs, stopDelay: this.stopDelay, stopInterval: this.stopInterval, stops: this.stops }));
  }
};
r([m({ type: p, json: { type: [[x, _]], read: { source: "properties.currentTimeExtent" }, write: { target: "properties.currentTimeExtent" } } })], T2.prototype, "currentTimeExtent", void 0), r([o("currentTimeExtent")], T2.prototype, "readCurrentTimeExtent", null), r([r2("currentTimeExtent")], T2.prototype, "writeCurrentTimeExtent", null), r([m({ type: p, json: { read: { source: ["properties.endTime", "properties.startTime"] }, write: { target: { "properties.endTime": { type: Number }, "properties.startTime": { type: Number } } } } })], T2.prototype, "fullTimeExtent", void 0), r([o("fullTimeExtent")], T2.prototype, "readFullTimeExtent", null), r([r2("fullTimeExtent")], T2.prototype, "writeFullTimeExtent", null), r([m({ type: Boolean, nonNullable: true, json: { default: false, read: { source: "properties.loop" }, write: { target: "properties.loop" } } })], T2.prototype, "loop", void 0), r([m({ type: x, json: { read: { source: "properties.numberOfStops" }, write: { target: "properties.numberOfStops", overridePolicy() {
  var _a;
  const t4 = !!this.stopInterval, e5 = !!((_a = this.stops) == null ? void 0 : _a.length), r4 = !(t4 || e5);
  return { enabled: r4, isRequired: r4 };
} } } })], T2.prototype, "numStops", void 0), r([m({ type: [1, 2], nonNullable: true, json: { type: x, read: { source: "properties.thumbCount" }, write: { target: "properties.thumbCount", isRequired: true } } })], T2.prototype, "numThumbs", void 0), r([m({ type: Number, nonNullable: true, json: { read: { source: "properties.thumbMovingRate" }, write: { target: "properties.thumbMovingRate", isRequired: true } } })], T2.prototype, "stopDelay", void 0), r([m({ type: l, json: { read: { source: "properties.timeStopInterval" }, write: { target: { "properties.timeStopInterval.interval": { type: Number }, "properties.timeStopInterval.units": { type: e3.jsonValues.filter((t4) => "esriTimeUnitsUnknown" !== t4) } }, overridePolicy() {
  var _a;
  const t4 = null != this.numStops, e5 = !!((_a = this.stops) == null ? void 0 : _a.length);
  return { enabled: !e5, isRequired: !(t4 || e5) };
} } } })], T2.prototype, "stopInterval", void 0), r([o("stopInterval")], T2.prototype, "readStopInterval", null), r([r2("stopInterval")], T2.prototype, "writeStopInterval", null), r([m({ type: [Date], json: { type: [x], read: { source: "properties.stops" }, write: { target: "properties.stops", overridePolicy() {
  return { isRequired: null == this.numStops && !this.stopInterval };
} } } })], T2.prototype, "stops", void 0), r([o("stops")], T2.prototype, "readStops", null), r([r2("stops")], T2.prototype, "writeStops", null), T2 = d2 = r([a2("esri.webdoc.widgets.TimeSlider")], T2);
var y = T2;

// node_modules/@arcgis/core/webdoc/Widgets.js
var m5;
var c2 = m5 = class extends f {
  constructor(r4) {
    super(r4), this.range = null, this.timeSlider = null, this.floorFilter = null;
  }
  clone() {
    return new m5(a({ range: this.range, timeSlider: this.timeSlider, floorFilter: this.floorFilter }));
  }
};
r([m({ type: u2, json: { write: true } })], c2.prototype, "range", void 0), r([m({ type: y, json: { write: true } })], c2.prototype, "timeSlider", void 0), r([m({ type: n7, json: { write: true } })], c2.prototype, "floorFilter", void 0), c2 = m5 = r([a2("esri.webdoc.Widgets")], c2);
var n9 = c2;

// node_modules/@arcgis/core/webdoc/support/thumbnailUtils.js
var h = { width: 600, height: 400 };
var t2 = 1.5;
function i6(i12, e5) {
  e5 = e5 || h;
  let { width: d4, height: n13 } = e5;
  const g2 = d4 / n13;
  return g2 < t2 ? n13 = d4 / t2 : g2 > t2 && (d4 = n13 * t2), d4 > i12.width && (n13 *= i12.width / d4, d4 = i12.width), n13 > i12.height && (d4 *= i12.height / n13, n13 = i12.height), { width: Math.round(d4), height: Math.round(n13) };
}

// node_modules/@arcgis/core/webdoc/support/webdocLoadUtils.js
function p4(e5, t4) {
  var _a;
  return t4.resourceInfo ? l4(t4, t4.resourceInfo, { origin: e5.origin }) : ((_a = t4.portalItem) == null ? void 0 : _a.id) ? c3(e5, t4, t4.portalItem) : Promise.resolve();
}
function l4(e5, t4, r4) {
  const o5 = { context: { ...r4, layerContainerType: "operational-layers" } };
  return e5.portalItem && (o5.context.portal = e5.portalItem.portal || b2.getDefault()), import("./layersCreator-4QWZWPER.js").then(({ populateOperationalLayers: r5 }) => {
    const n13 = [], i12 = t4.operationalLayers;
    (i12 == null ? void 0 : i12.length) && n13.push(r5(e5.layers, i12, o5));
    const a14 = { ...o5, context: { ...o5.context, layerContainerType: "tables" }, defaultLayerType: "ArcGISFeatureLayer" }, s11 = t4.tables;
    return (s11 == null ? void 0 : s11.length) && n13.push(r5(e5.tables, s11, a14)), Promise.allSettled(n13).then(() => {
    });
  });
}
async function c3(e5, o5, n13) {
  var _a;
  if (await n13.load().catch((r4) => {
    throw new s(`${e5.name}:load-portal-item`, "Failed to load portal item", { error: r4 });
  }), n13.type !== e5.itemType) throw new s(`${e5.name}:invalid-portal-item`, `Invalid portal item type '${n13.type}', expected '${e5.itemType}'`, { type: n13.type });
  const a14 = await n13.fetchData();
  o5.resourceInfo = a14;
  const s11 = e2(n13, e5.origin);
  await m6(e5, o5, a14, s11), o5.resourceReferences = { portalItem: n13, paths: s11.readResourcePaths };
  const p15 = await f5(o5.initialViewProperties, n13, n.getLogger(o5));
  if (p15) {
    const t4 = ((_a = o5.initialViewProperties) == null ? void 0 : _a.clone()) ?? e5.createInitialViewProperties();
    t4.viewpoint = p15, o5.initialViewProperties = t4;
  }
}
function m6(e5, t4, r4, o5) {
  const n13 = u3(e5, r4);
  return t4.read(n13, o5), l4(t4, n13, o5);
}
function u3(e5, t4) {
  const r4 = e5.parseVersion(t4.version || "", e5.name);
  return e5.currentVersion.validate(r4), t4.version = `${r4.major}.${r4.minor}`, t4;
}
async function f5(t4, r4, o5) {
  var _a;
  const n13 = (_a = t4 == null ? void 0 : t4.viewpoint) == null ? void 0 : _a.targetGeometry;
  if (n13) return null;
  const i12 = await y2(t4, r4, o5);
  if (!i12) return null;
  return new m2({ targetGeometry: i12 });
}
async function y2(e5, t4, r4) {
  const n13 = e5 == null ? void 0 : e5.spatialReference, i12 = t4 == null ? void 0 : t4.extent;
  if (!n13 || !i12) return null;
  if (n13.isWGS84) return i12.clone();
  if (n13.isWebMercator) return R(i12);
  const { getGeometryServiceURL: p15 } = await import("./geometryServiceUtils-MNTFMAGI.js");
  try {
    const e6 = await p15(t4), r5 = new p2({ geometries: [i12], outSpatialReference: n13 });
    return (await n5(e6, r5))[0];
  } catch (l7) {
    r4.error("Error projecting item's extent:", l7);
  }
  return null;
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writePolicyUtils.js
function e4(e5) {
  return { enabled: !!(e5 == null ? void 0 : e5.length) };
}

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchLayerField.js
var c4;
var a6 = c4 = class extends f {
  constructor(o5) {
    super(o5), this.exactMatch = false, this.name = null, this.type = null;
  }
  clone() {
    return new c4({ exactMatch: this.exactMatch, type: this.type, name: this.name });
  }
};
r([m({ type: Boolean, json: { write: true } })], a6.prototype, "exactMatch", void 0), r([m({ type: String, json: { write: true } })], a6.prototype, "name", void 0), r([r3(i2)], a6.prototype, "type", void 0), a6 = c4 = r([a2("esri.webdoc.applicationProperties.SearchLayerField")], a6);
var i7 = a6;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchLayer.js
var c5;
var a7 = c5 = class extends f {
  constructor(r4) {
    super(r4), this.field = null, this.id = null, this.subLayer = null;
  }
  clone() {
    return new c5(a({ field: this.field, id: this.id, subLayer: this.subLayer }));
  }
};
r([m({ type: i7, json: { write: { isRequired: true } } })], a7.prototype, "field", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], a7.prototype, "id", void 0), r([m({ type: x, json: { write: true } })], a7.prototype, "subLayer", void 0), a7 = c5 = r([a2("esri.webdoc.applicationProperties.SearchLayer")], a7);
var u4 = a7;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchTableField.js
var c6;
var a8 = c6 = class extends f {
  constructor(o5) {
    super(o5), this.exactMatch = false, this.name = null, this.type = null;
  }
  clone() {
    return new c6({ exactMatch: this.exactMatch, type: this.type, name: this.name });
  }
};
r([m({ type: Boolean, json: { write: true } })], a8.prototype, "exactMatch", void 0), r([m({ type: String, json: { write: true } })], a8.prototype, "name", void 0), r([r3(i2)], a8.prototype, "type", void 0), a8 = c6 = r([a2("esri.webdoc.applicationProperties.SearchTableField")], a8);
var i8 = a8;

// node_modules/@arcgis/core/webdoc/applicationProperties/SearchTable.js
var p5;
var c7 = p5 = class extends f {
  constructor(r4) {
    super(r4), this.field = null, this.id = null;
  }
  clone() {
    return new p5(a({ field: this.field, id: this.id }));
  }
};
r([m({ type: i8, json: { write: { isRequired: true } } })], c7.prototype, "field", void 0), r([m({ type: String, json: { write: { isRequired: true } } })], c7.prototype, "id", void 0), c7 = p5 = r([a2("esri.webdoc.applicationProperties.SearchTable")], c7);
var l5 = c7;

// node_modules/@arcgis/core/webdoc/applicationProperties/Search.js
var p6;
var b3 = V.ofType(u4);
var h2 = V.ofType(l5);
var m7 = p6 = class extends f {
  constructor(e5) {
    super(e5), this.addressSearchEnabled = true, this.enabled = true, this.hintText = null, this.layers = new b3(), this.tables = new h2();
  }
  readAddressSearchEnabled(e5) {
    return !e5;
  }
  writeAddressSearchEnabled(e5, r4, o5) {
    r4[o5] = !e5;
  }
  clone() {
    return new p6(a({ addressSearchEnabled: this.addressSearchEnabled, enabled: this.enabled, hintText: this.hintText, layers: this.layers, tables: this.tables }));
  }
};
r([m({ type: Boolean, nonNullable: true, json: { read: { source: "disablePlaceFinder" }, write: { target: "disablePlaceFinder", isRequired: true }, origins: { "web-scene": { read: false, write: false } } } })], m7.prototype, "addressSearchEnabled", void 0), r([o("addressSearchEnabled")], m7.prototype, "readAddressSearchEnabled", null), r([r2("addressSearchEnabled")], m7.prototype, "writeAddressSearchEnabled", null), r([m({ type: Boolean, nonNullable: true, json: { write: true, origins: { "web-map": { write: { isRequired: true } }, "web-scene": { default: true, write: true } } } })], m7.prototype, "enabled", void 0), r([m({ type: String, json: { write: true } })], m7.prototype, "hintText", void 0), r([m({ type: b3, json: { write: { overridePolicy: e4 }, origins: { "web-scene": { write: { isRequired: true } } } } })], m7.prototype, "layers", void 0), r([m({ type: h2, json: { read: true, write: { overridePolicy: e4 } } })], m7.prototype, "tables", void 0), m7 = p6 = r([a2("esri.webdoc.applicationProperties.Search")], m7);
var y3 = m7;

// node_modules/@arcgis/core/webdoc/applicationProperties/Viewing.js
var p7;
var a9 = p7 = class extends f {
  constructor(r4) {
    super(r4), this.search = null;
  }
  clone() {
    return new p7(a({ search: this.search }));
  }
};
r([m({ type: y3, json: { write: true } })], a9.prototype, "search", void 0), a9 = p7 = r([a2("esri.webdoc.applicationProperties.Viewing")], a9);
var i9 = a9;

// node_modules/@arcgis/core/webmap/ApplicationProperties.js
var p8;
var n10 = p8 = class extends f {
  constructor(o5) {
    super(o5), this.editing = null, this.offline = null, this.viewing = null;
  }
  clone() {
    return new p8(a({ editing: this.editing, offline: this.offline, viewing: this.viewing }));
  }
};
r([m({ json: { write: true } })], n10.prototype, "editing", void 0), r([m({ json: { write: true } })], n10.prototype, "offline", void 0), r([m({ type: i9, json: { write: true } })], n10.prototype, "viewing", void 0), n10 = p8 = r([a2("esri.webmap.ApplicationProperties")], n10);
var c8 = n10;

// node_modules/@arcgis/core/webdoc/support/SlideThumbnail.js
var p9;
var u5 = p9 = class extends f {
  constructor() {
    super(...arguments), this.url = "";
  }
  destroy() {
    this.url = "";
  }
  get isSecureUrl() {
    return dt(this.url);
  }
  get isDataURI() {
    return tt(this.url);
  }
  clone() {
    return new p9({ url: this.url });
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], u5.prototype, "url", void 0), r([m()], u5.prototype, "isSecureUrl", null), r([m()], u5.prototype, "isDataURI", null), u5 = p9 = r([a2("esri.webdoc.support.SlideThumbnail")], u5);

// node_modules/@arcgis/core/webdoc/support/timeProperties.js
var m8 = { type: p, json: { read: { source: "timeExtent", reader: (e5) => e5 ? Array.isArray(e5) ? p.fromArray(e5) : p.fromJSON(e5) : null }, write: { writer: (r4, t4, o5, m11) => {
  r4 && (r4.isEmpty ? (m11 == null ? void 0 : m11.messages) && m11.messages.push(new s("invalid-timeExtent", "TimeExtent cannot be empty")) : t4[o5] = r4.toArray());
}, target: { timeExtent: { type: [[x, _]] } } } } };

// node_modules/@arcgis/core/webmap/Bookmark.js
var d3;
var y4 = d3 = class extends s4(f) {
  constructor(t4) {
    super(t4), this.name = null, this.thumbnail = new u5(), this.timeExtent = null;
  }
  castThumbnail(t4) {
    return "string" == typeof t4 ? new u5({ url: t4 }) : w(u5, t4);
  }
  set viewpoint(t4) {
    const { targetGeometry: e5, scale: o5 } = t4;
    null != e5 && "point" === e5.type && null == o5 && n.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.", t4), this._set("viewpoint", t4);
  }
  readViewpoint(t4, o5) {
    const { extent: r4, viewpoint: i12 } = o5;
    return m2.fromJSON(i12 || { targetGeometry: r4 });
  }
  writeViewpoint(t4, e5, r4, i12) {
    if (!t4) return;
    const { targetGeometry: s11 } = t4;
    if (null == s11 || "extent" === s11.type) null != s11 && (e5.extent = s11.toJSON()), e5[r4] = t4.toJSON();
    else {
      const t5 = "Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";
      (i12 == null ? void 0 : i12.messages) ? i12.messages.push(new s("property:unsupported", t5)) : n.getLogger(this).error(t5);
    }
  }
  clone() {
    return new d3(a({ name: this.name, thumbnail: this.thumbnail, timeExtent: this.timeExtent, viewpoint: this.viewpoint }));
  }
};
r([m({ type: String, nonNullable: true, json: { write: { isRequired: true } } })], y4.prototype, "name", void 0), r([m({ type: u5, json: { write: { overridePolicy: (t4) => ({ enabled: !(!t4 || !t4.url) }) } } })], y4.prototype, "thumbnail", void 0), r([s3("thumbnail")], y4.prototype, "castThumbnail", null), r([m(m8)], y4.prototype, "timeExtent", void 0), r([m({ type: m2, nonNullable: true, json: { write: true } })], y4.prototype, "viewpoint", null), r([o("viewpoint", ["extent", "viewpoint"])], y4.prototype, "readViewpoint", null), r([r2("viewpoint")], y4.prototype, "writeViewpoint", null), y4 = d3 = r([a2("esri.webmap.Bookmark")], y4);
var f6 = y4;

// node_modules/@arcgis/core/webmap/InitialViewProperties.js
var l6 = class extends i(b) {
  constructor(o5) {
    super(o5), this.background = null, this.rangeInfo = null, this.spatialReference = null, this.timeExtent = null, this.timeZone = o2, this.viewpoint = null;
  }
};
r([m({ type: m4 })], l6.prototype, "background", void 0), r([m({ type: c })], l6.prototype, "rangeInfo", void 0), r([m({ type: g })], l6.prototype, "spatialReference", void 0), r([m({ type: p })], l6.prototype, "timeExtent", void 0), r([m({ nonNullable: true })], l6.prototype, "timeZone", void 0), r([m({ type: m2 })], l6.prototype, "viewpoint", void 0), l6 = r([a2("esri.webmap.InitialViewProperties")], l6);
var f7 = l6;

// node_modules/@arcgis/core/WebDocument2D.js
var J = V.ofType(f6);
var M = /* @__PURE__ */ new Map([["image/jpeg", "jpeg"], ["image/jpg", "jpg"], ["image/png", "png"], ["image/gif", "gif"]]);
var Z = "ArcGIS Pro";
var W = f4.JSAPI;
var $ = class extends S2(m3.LoadableMixin(n3(L))) {
  constructor(e5) {
    super(e5), this._isAuthoringAppSetByUser = false, this._isAuthoringAppVersionSetByUser = false, this._thumbnailFilename = null, this._updateFromPromise = null, this.resourceReferences = { portalItem: null, paths: [] }, this.applicationProperties = null, this.bookmarks = new J(), this.floorInfo = null, this.initialViewProperties = new f7(), this.portalItem = null, this.sourceVersion = null, this.widgets = null, this._debouncedSaveOperations = k(async (e6, t4, r4) => {
      const { save: i12, saveAs: o5 } = await import("./webdocSaveUtils-HWU2O6CF.js");
      switch (e6) {
        case A.SAVE:
          return i12(this.context, this, t4);
        case A.SAVE_AS:
          return o5(this.context, this, r4, t4);
      }
    }), this.authoringApp = this.authoringAppVersion = null, this._isAuthoringAppSetByUser = this._isAuthoringAppVersionSetByUser = false;
  }
  destroy() {
    this.portalItem = u(this.portalItem);
  }
  initialize() {
    if (this.when().catch((e5) => {
      n.getLogger(this).error("#load()", "Failed to load web map", e5);
    }), this.resourceInfo) {
      let t4;
      try {
        t4 = this._validateJSON(this.resourceInfo);
      } catch (e5) {
        return void this.addResolvingPromise(Promise.reject(e5));
      }
      this.read(t4);
    }
  }
  set authoringApp(e5) {
    this._isAuthoringAppSetByUser = true, this._set("authoringApp", e5);
  }
  writeAuthoringApp(e5, t4) {
    e5 && this._isAuthoringAppSetByUser ? t4.authoringApp = e5 : t4.authoringApp = W;
  }
  set authoringAppVersion(e5) {
    this._isAuthoringAppVersionSetByUser = true, this._set("authoringAppVersion", e5);
  }
  writeAuthoringAppVersion(e5, r4) {
    e5 && this._isAuthoringAppVersionSetByUser ? r4.authoringAppVersion = e5 : r4.authoringAppVersion = s2;
  }
  readInitialViewProperties(e5, t4) {
    var _a, _b;
    const r4 = new f7();
    t4.background && (r4.background = m4.fromJSON(t4.background));
    const o5 = (_a = t4.initialState) == null ? void 0 : _a.timeExtent;
    o5 && (r4.timeExtent = p.fromArray(o5));
    const s11 = (_b = t4.initialState) == null ? void 0 : _b.viewpoint;
    if (s11) {
      if (s11.rotation) {
        s5.parse(t4.version || "", "webmap").lessThan(2, 20) && t4.authoringApp === Z && (s11.rotation *= -1);
      }
      r4.viewpoint = m2.fromJSON(s11);
    }
    return t4.mapRangeInfo && (r4.rangeInfo = c.fromJSON(t4.mapRangeInfo)), t4.spatialReference && (r4.spatialReference = g.fromJSON(t4.spatialReference)), t4.timeZone && (r4.timeZone = t4.timeZone), r4;
  }
  writeInitialViewProperties(e5, t4, r4, i12) {
    var _a;
    if (!e5) return;
    ((_a = e5.background) == null ? void 0 : _a.color) && (t4.background = e5.background.write({}, i12));
    const { timeExtent: o5, viewpoint: s11 } = e5;
    if (s11 || o5) {
      const e6 = {};
      s11 && (e6.viewpoint = s11.write({}, i12)), o5 && (e6.timeExtent = o5.toArray()), t4.initialState = e6;
    }
    e5.rangeInfo && (t4.mapRangeInfo = e5.rangeInfo.toJSON(i12)), e5.spatialReference && (t4.spatialReference = e5.spatialReference.write({}, i12)), t4.timeZone = e5.timeZone;
  }
  writeLayers(e5, t4, r4, i12) {
    t4[r4] = this._writeLayers(e5, i12, "operational-layers");
  }
  readSourceVersion(e5, t4) {
    const [r4, i12] = t4.version.split(".");
    return new s5(parseInt(r4, 10), parseInt(i12, 10));
  }
  writeSourceVersion(e5, t4, r4) {
    t4[r4] = `${this.context.currentVersion.major}.${this.context.currentVersion.minor}`;
  }
  writeTables(e5, t4, r4, i12) {
    const o5 = this._writeLayers(e5, i12, "tables");
    o5.length && (t4[r4] = o5);
  }
  get thumbnailUrl() {
    var _a;
    return ((_a = this.portalItem) == null ? void 0 : _a.thumbnailUrl) || null;
  }
  set thumbnailUrl(e5) {
    e5 ? (this._override("thumbnailUrl", e5), this._thumbnailFilename = this._generateCustomThumbnailFilename(e5)) : this._clearThumbnailOverride();
  }
  get updatingFromView() {
    return !!this._updateFromPromise;
  }
  load(e5) {
    return this.addResolvingPromise(p4(this.context, this)), Promise.resolve(this);
  }
  loadAll() {
    return t(this, (e5) => {
      e5(this.ground, this.basemap, this.layers, this.tables);
    });
  }
  read(e5, t4) {
    t4 = { ...t4, origin: this.context.origin };
    const r4 = this._getAuthoringPropsState();
    d(this, e5, (t5) => super.read(e5, t5), t4), this._restoreAuthoringPropsFromState(r4);
  }
  write(e5, t4) {
    if ("loaded" !== this.loadStatus) {
      const e6 = new s("webmap:not-loaded", "Web map must be loaded before it can be serialized");
      throw n.getLogger(this).error("#toJSON()", "Web map must be loaded before it can be serialized", this.loadError || this.loadStatus), e6;
    }
    return this._removeDanglingLayerRefs(), t4 = { ...t4, origin: this.context.origin, restrictedWebMapWriting: true, webmap: this }, super.write(e5, t4);
  }
  async save(e5) {
    return this._debouncedSaveOperations(A.SAVE, e5);
  }
  async saveAs(e5, t4) {
    return this._debouncedSaveOperations(A.SAVE_AS, t4, e5);
  }
  async updateFrom(e5, t4) {
    const r4 = this._updateFromInternal(e5, t4);
    this._updateFromPromise = r4, await r4;
    r4 === this._updateFromPromise && (this._updateFromPromise = null);
  }
  getLayerJSONFromResourceInfo(e5) {
    var _a, _b, _c, _d;
    const t4 = this.resourceInfo;
    return this._collectAllLayersJSON([...((_a = t4 == null ? void 0 : t4.baseMap) == null ? void 0 : _a.baseMapLayers) || [], ...(t4 == null ? void 0 : t4.operationalLayers) || [], ...((_d = (_c = (_b = this.basemap) == null ? void 0 : _b.resourceInfo) == null ? void 0 : _c.data) == null ? void 0 : _d.baseMapLayers) || []]).find((t5) => t5.id === e5.id);
  }
  async updateItemThumbnail() {
    var _a;
    this.thumbnailUrl && this._isOverridden("thumbnailUrl") && (await ((_a = this.portalItem) == null ? void 0 : _a.updateThumbnail({ thumbnail: this.thumbnailUrl, filename: this._thumbnailFilename })), this._clearThumbnailOverride());
  }
  getThumbnailState() {
    let e5 = this.thumbnailUrl;
    return e5 && (e5 = this._isOverridden("thumbnailUrl") ? e5 : kt(e5, "w", "8192")), { thumbnailUrl: e5, filename: this._thumbnailFilename };
  }
  restoreThumbnailFromState(e5) {
    this.thumbnailUrl = e5.thumbnailUrl, this._thumbnailFilename = e5.filename;
  }
  _collectAllLayersJSON(e5) {
    return e5.reduce((e6, t4) => (e6.push(t4), "GroupLayer" === t4.layerType && (e6 = e6.concat(this._collectAllLayersJSON(t4.layers || []))), e6), []);
  }
  _writeLayers(e5, t4, r4) {
    t4 = { ...t4, layerContainerType: r4 };
    return e5.map((e6) => f3(e6, "tables" === r4 ? null : this.getLayerJSONFromResourceInfo(e6), t4)).filter(F).toArray();
  }
  _validateJSON(e5) {
    const t4 = s5.parse(e5.version || "", "webmap");
    return this.context.currentVersion.validate(t4), e5.version = `${t4.major}.${t4.minor}`, e5;
  }
  _removeDanglingLayerRefs() {
    var _a, _b;
    const e5 = this.applicationProperties, t4 = (_a = e5 == null ? void 0 : e5.viewing) == null ? void 0 : _a.search, r4 = (e6) => this.allLayers.some((t5) => t5.id === e6);
    if ((t4 == null ? void 0 : t4.layers) && (t4.layers = t4.layers.filter((e6) => r4(e6.id))), (t4 == null ? void 0 : t4.tables) && (t4.tables = t4.tables.filter((e6) => this.tables.some((t5) => t5.id === e6.id))), e5) {
      const t5 = (_b = e5.editing) == null ? void 0 : _b.locationTracking;
      (t5 == null ? void 0 : t5.info) && !r4(t5.info.layerId) && (e5.editing = null);
    }
    const i12 = "presentation" in this ? this.presentation : null, o5 = i12 == null ? void 0 : i12.slides;
    o5 && o5.forEach((e6) => {
      e6.visibleLayers && (e6.visibleLayers = e6.visibleLayers.filter((e7) => r4(e7.id)));
    });
  }
  async _updateFromInternal(e5, t4) {
    if (t4 ?? (t4 = {}), await w2(() => e5.ready), this._updateInitialViewProperties(e5, t4), e5.map === this) for (const r4 of e5.allLayerViews) "visible" in r4 && "visible" in r4.layer && r4._isOverridden("visible") && (r4.layer.visible = r4.visible), "featureEffect" in r4 && "featureEffect" in r4.layer && r4._isOverridden("featureEffect") && (r4.layer.featureEffect = r4.featureEffect);
    await this._updateThumbnailUrl(e5, t4);
  }
  _updateInitialViewProperties(e5, t4) {
    var _a, _b;
    if (t4.backgroundExcluded || (this.initialViewProperties.background = (_a = e5.background) == null ? void 0 : _a.clone()), this.initialViewProperties.spatialReference = (_b = e5.spatialReference) == null ? void 0 : _b.clone(), this.initialViewProperties.timeZone = e5.timeZone, t4.viewpointExcluded || (this.initialViewProperties.viewpoint = new m2({ rotation: e5.rotation, scale: t4.scalePreserved ? e5.scale : null, targetGeometry: this._getViewExtent(e5) })), !t4.widgetsExcluded) for (const r4 of e5.persistableViewModels) r4.updateWebDocument(this);
  }
  _getViewExtent(e5) {
    const t4 = e5.center.clone().normalize(), r4 = e5.extent.clone(), i12 = r4.width / 2;
    return r4.xmin = t4.x - i12, r4.xmax = t4.x + i12, r4;
  }
  async _updateThumbnailUrl(e5, t4) {
    if (t4.thumbnailExcluded) return;
    const r4 = i6(e5, t4.thumbnailSize), i12 = await e5.takeScreenshot({ format: "png", width: r4.width, height: r4.height });
    this._setAutoGeneratedThumbnail(i12.dataUrl);
  }
  _setAutoGeneratedThumbnail(e5) {
    this.thumbnailUrl = e5, this._thumbnailFilename = null;
  }
  _clearThumbnailOverride() {
    this._clearOverride("thumbnailUrl"), this.clear("thumbnailUrl", "user"), this._thumbnailFilename = null;
  }
  _generateCustomThumbnailFilename(e5) {
    if (tt(e5)) {
      const t4 = ot(e5), r4 = t4 == null ? void 0 : t4.mediaType, i12 = r4 && M.get(r4.toLowerCase()) || null, o5 = `thumbnail${Date.now()}`;
      return i12 ? `${o5}.${i12}` : o5;
    }
    return null;
  }
  _getAuthoringPropsState() {
    return { authoringApp: this.authoringApp, authoringAppVersion: this.authoringAppVersion, isAuthoringAppSetByUser: this._isAuthoringAppSetByUser, isAuthoringAppVersionSetByUser: this._isAuthoringAppVersionSetByUser };
  }
  _restoreAuthoringPropsFromState(e5) {
    e5.isAuthoringAppSetByUser ? this.authoringApp = e5.authoringApp : this._isAuthoringAppSetByUser = false, e5.isAuthoringAppVersionSetByUser ? this.authoringAppVersion = e5.authoringAppVersion : this._isAuthoringAppVersionSetByUser = false;
  }
};
r([m()], $.prototype, "_updateFromPromise", void 0), r([m({ type: c8, json: { write: true } })], $.prototype, "applicationProperties", void 0), r([m({ type: String, json: { write: { allowNull: true, ignoreOrigin: true } } })], $.prototype, "authoringApp", null), r([r2("authoringApp")], $.prototype, "writeAuthoringApp", null), r([m({ type: String, json: { write: { allowNull: true, ignoreOrigin: true } } })], $.prototype, "authoringAppVersion", null), r([r2("authoringAppVersion")], $.prototype, "writeAuthoringAppVersion", null), r([m({ type: J, json: { write: { overridePolicy: (e5) => ({ enabled: !!(e5 && e5.length > 0), ignoreOrigin: true }) } } })], $.prototype, "bookmarks", void 0), r([m({ type: l2, json: { name: "mapFloorInfo", write: true } })], $.prototype, "floorInfo", void 0), r([m({ type: f7, nonNullable: true, json: { read: { source: ["background", "initialState.timeExtent", "initialState.viewpoint", "mapRangeInfo", "spatialReference", "timeZone"] }, write: { ignoreOrigin: true, target: { background: { type: m4 }, "initialState.timeExtent": { type: p }, "initialState.viewpoint": { type: m2 }, mapRangeInfo: { type: c }, spatialReference: { type: g }, "timeZone:": { type: String } } } } })], $.prototype, "initialViewProperties", void 0), r([o("initialViewProperties")], $.prototype, "readInitialViewProperties", null), r([r2("initialViewProperties")], $.prototype, "writeInitialViewProperties", null), r([m({ json: { read: false, write: { target: "operationalLayers", ignoreOrigin: true } } })], $.prototype, "layers", void 0), r([r2("layers")], $.prototype, "writeLayers", null), r([m({ type: S })], $.prototype, "portalItem", void 0), r([m()], $.prototype, "resourceInfo", void 0), r([m({ readOnly: true, type: s5, json: { read: { source: "version" }, write: { allowNull: true, ignoreOrigin: true, target: "version", isRequired: true } } })], $.prototype, "sourceVersion", void 0), r([o("sourceVersion")], $.prototype, "readSourceVersion", null), r([r2("sourceVersion")], $.prototype, "writeSourceVersion", null), r([m({ json: { read: false, write: { ignoreOrigin: true } } })], $.prototype, "tables", void 0), r([r2("tables")], $.prototype, "writeTables", null), r([m()], $.prototype, "thumbnailUrl", null), r([m()], $.prototype, "updatingFromView", null), r([m({ type: n9, json: { write: true } })], $.prototype, "widgets", void 0), $ = r([a2("esri.WebDocument2D")], $);
var C = $;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/ExpressionInfo.js
var p10 = class extends i(f) {
  constructor(r4) {
    super(r4), this.expression = null, this.returnType = "string", this.title = null;
  }
};
r([m({ type: String, json: { write: { isRequired: true } } })], p10.prototype, "expression", void 0), r([m({ type: ["number", "string"], json: { write: true } })], p10.prototype, "returnType", void 0), r([m({ type: String, json: { write: true } })], p10.prototype, "title", void 0), p10 = r([a2("esri.webdoc.geotriggersInfo.ExpressionInfo")], p10);
var i10 = p10;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/DeviceLocationFeed.js
var c9 = new n2({ deviceLocation: "device-location" });
var a10 = class extends i(f) {
  constructor(o5) {
    super(o5), this.filterExpression = null, this.type = "device-location";
  }
};
r([m({ type: i10, json: { write: true } })], a10.prototype, "filterExpression", void 0), r([m({ type: c9.apiValues, readOnly: true, json: { type: c9.jsonValues, read: c9.read, write: c9.write } })], a10.prototype, "type", void 0), a10 = r([a2("esri.webdoc.geotriggersInfo.DeviceLocationFeed")], a10);
var n11 = a10;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureFilter.js
var m9 = class extends i(f) {
  constructor(o5) {
    super(o5), this.geometry = null, this.where = null;
  }
};
r([m({ types: n4, json: { read: f2, write: true } })], m9.prototype, "geometry", void 0), r([m({ type: String, json: { write: true } })], m9.prototype, "where", void 0), m9 = r([a2("esri.webdoc.geotriggersInfo.FeatureFilter")], m9);
var c10 = m9;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureLayerSource.js
var p11 = class extends i(f) {
  constructor(r4) {
    super(r4), this.layerId = null, this.layerUrl = null, this.type = "feature-layer";
  }
};
r([m({ type: String, json: { write: { overridePolicy() {
  return { isRequired: null === this.layerUrl };
} } } })], p11.prototype, "layerId", void 0), r([m({ type: String, json: { write: { overridePolicy() {
  return { isRequired: null === this.layerId };
} } } })], p11.prototype, "layerUrl", void 0), r([r3({ featureLayer: "feature-layer" }, { readOnly: true })], p11.prototype, "type", void 0), p11 = r([a2("esri.webdoc.geotriggersInfo.FeatureLayerSource")], p11);
var a11 = p11;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FeatureFenceParameters.js
var a12 = class extends i(f) {
  constructor(r4) {
    super(r4), this.fenceSource = null, this.filter = null, this.bufferDistance = null, this.type = "features";
  }
};
r([m({ type: a11, json: { write: { isRequired: true } } })], a12.prototype, "fenceSource", void 0), r([m({ type: c10, json: { write: true } })], a12.prototype, "filter", void 0), r([m({ type: Number, json: { write: true } })], a12.prototype, "bufferDistance", void 0), r([r3({ features: "features" }, { readOnly: true })], a12.prototype, "type", void 0), a12 = r([a2("esri.webdoc.geotriggersInfo.FeatureFenceParameters")], a12);
var u6 = a12;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/Geotrigger.js
var c11 = class extends i(f) {
  constructor(o5) {
    super(o5), this.type = "fence";
  }
};
r([r3({ fence: "fence" }, { readOnly: true })], c11.prototype, "type", void 0), c11 = r([a2("esri.webdoc.geotriggersInfo.Geotrigger")], c11);
var p12 = c11;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/GeotriggerNotificationOptions.js
var p13 = class extends i(f) {
  constructor(o5) {
    super(o5), this.expressionInfo = null, this.requestedActions = null;
  }
};
r([m({ type: i10, json: { write: true } })], p13.prototype, "expressionInfo", void 0), r([m({ type: [String], json: { write: true } })], p13.prototype, "requestedActions", void 0), p13 = r([a2("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")], p13);
var c12 = p13;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/support/typeUtils.js
var t3 = new n2({ enterContainsAndExitDoesNotContain: "enter-contains-and-exit-does-not-contain", enterContainsAndExitDoesNotIntersect: "enter-contains-and-exit-does-not-intersect", enterIntersectsAndExitDoesNotIntersect: "enter-intersects-and-exit-does-not-intersect" });
var n12 = new n2({ useGeometry: "use-geometry", useGeometryWithAccuracy: "use-geometry-with-accuracy" });
var o3 = new n2({ enter: "enter", enterOrExit: "enter-or-exit", exit: "exit" });

// node_modules/@arcgis/core/webdoc/geotriggersInfo/FenceGeotrigger.js
var m10 = class extends p12 {
  constructor(e5) {
    super(e5), this.enterExitRule = "enter-contains-and-exit-does-not-intersect", this.feed = null, this.feedAccuracyMode = "use-geometry", this.fenceNotificationRule = null, this.fenceParameters = null, this.name = null, this.notificationOptions = null, this.type = "fence";
  }
};
r([r3(t3)], m10.prototype, "enterExitRule", void 0), r([m({ type: n11, json: { write: { isRequired: true } } })], m10.prototype, "feed", void 0), r([r3(n12)], m10.prototype, "feedAccuracyMode", void 0), r([m({ type: o3.apiValues, json: { type: o3.jsonValues, read: o3.read, write: { writer: o3.write, isRequired: true } } })], m10.prototype, "fenceNotificationRule", void 0), r([m({ type: u6, json: { write: { isRequired: true } } })], m10.prototype, "fenceParameters", void 0), r([m({ type: String, json: { write: true } })], m10.prototype, "name", void 0), r([m({ type: c12, json: { write: true } })], m10.prototype, "notificationOptions", void 0), r([r3({ fence: "fence" }, { readOnly: true })], m10.prototype, "type", void 0), m10 = r([a2("esri.webdoc.geotriggersInfo.FenceGeotrigger")], m10);
var u7 = m10;

// node_modules/@arcgis/core/webdoc/geotriggersInfo/support/geotriggerTypes.js
var o4 = { base: p12, key: "type", typeMap: { fence: u7 } };

// node_modules/@arcgis/core/webdoc/GeotriggersInfo.js
var i11 = class extends i(f) {
  constructor(r4) {
    super(r4), this.geotriggers = null;
  }
};
r([m({ types: [o4], json: { write: { isRequired: true } } })], i11.prototype, "geotriggers", void 0), i11 = r([a2("esri.webdoc.GeotriggersInfo")], i11);
var c13 = i11;

// node_modules/@arcgis/core/webdoc/ips/PositioningService.js
var a13 = class extends i(f) {
  constructor(r4) {
    super(r4), this.portalItem = null;
  }
  readPortalItem(r4, o5, t4) {
    const { itemId: e5 } = o5;
    if (e5) return new S({ id: e5, portal: t4 == null ? void 0 : t4.portal });
  }
  writePortalItem(r4, o5) {
    (r4 == null ? void 0 : r4.id) && (o5.itemId = r4.id);
  }
};
r([m({ type: S, json: { write: { isRequired: true } } })], a13.prototype, "portalItem", void 0), r([o("portalItem", ["itemId"])], a13.prototype, "readPortalItem", null), r([r2("portalItem", { itemId: { type: String } })], a13.prototype, "writePortalItem", null), a13 = r([a2("esri.webdoc.ips.PositioningService")], a13);
var c14 = a13;

// node_modules/@arcgis/core/webdoc/IPSInfo.js
var p14 = class extends i(f) {
  constructor(o5) {
    super(o5), this.positioningService = null;
  }
};
r([m({ type: c14, json: { write: { isRequired: true } } })], p14.prototype, "positioningService", void 0), p14 = r([a2("esri.webdoc.IPSInfo")], p14);
var c15 = p14;

// node_modules/@arcgis/core/WebMap.js
var u8 = { currentVersion: n6, createInitialViewProperties: () => new f7(), parseVersion: s5.parse, itemType: "Web Map", name: "webmap", origin: "web-map" };
var w3 = V.ofType(T);
var y5 = class extends C {
  constructor(o5) {
    super(o5), this.geotriggersInfo = null, this.ipsInfo = null, this.presentation = null, this.utilityNetworks = null;
  }
  destroy() {
    if (this.utilityNetworks) {
      const o5 = this.utilityNetworks.removeAll();
      for (const t4 of o5) t4.destroy();
      this.utilityNetworks.destroy();
    }
  }
  get context() {
    return u8;
  }
  loadAll() {
    return t(this, (o5) => {
      var _a, _b;
      o5(this.ground, this.basemap, this.layers, this.tables, (_b = (_a = this.ipsInfo) == null ? void 0 : _a.positioningService) == null ? void 0 : _b.portalItem);
    });
  }
  static fromJSON(o5) {
    if (o5) return new this({ resourceInfo: o5 });
    throw new s("webmap:empty-resource", "Expected a JSON resource but got nothing");
  }
};
y5.VERSION = n6, r([m({ type: c13, json: { write: true } })], y5.prototype, "geotriggersInfo", void 0), r([m({ type: c15, json: { write: true, name: "mapIPSInfo" } })], y5.prototype, "ipsInfo", void 0), r([m({ json: { write: true } })], y5.prototype, "presentation", void 0), r([m({ type: w3, json: { read: true, write: true } })], y5.prototype, "utilityNetworks", void 0), y5 = r([a2("esri.WebMap")], y5);
var j = y5;
export {
  j as default
};
//# sourceMappingURL=@arcgis_core_WebMap.js.map
