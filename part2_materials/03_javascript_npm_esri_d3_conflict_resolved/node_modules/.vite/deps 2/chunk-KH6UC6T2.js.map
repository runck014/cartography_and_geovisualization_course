{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{isDataProtocol as n,dataComponents as r}from\"../../../../../core/urlUtils.js\";function a(e){const t=m(e);return null!=t?t.toDataURL():\"\"}async function i(n,r){const a=m(n);if(null==a)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const i=o(n),s=await new Promise((e=>a.toBlob(e,i)));if(t(r),!s)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");const c=await s.arrayBuffer();return t(r),{data:c,type:i}}function o(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(n(t)){const e=r(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function m(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function c(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,i as imageToArrayBuffer,a as imageToDataURI,m as imageTypeToCanvas,c as isArrayBufferPNG};\n"],
  "mappings": ";;;;;;;;;;;;AAIyO,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE,CAAC;AAAE,SAAO,QAAM,IAAE,EAAE,UAAU,IAAE;AAAE;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,QAAMA,KAAE,EAAE,CAAC;AAAE,MAAG,QAAMA,GAAE,OAAM,IAAI,EAAE,sBAAqB,wBAAwB;AAAE,QAAMC,KAAE,EAAE,CAAC,GAAEC,KAAE,MAAM,IAAI,QAAS,OAAGF,GAAE,OAAO,GAAEC,EAAC,CAAE;AAAE,MAAGC,GAAE,CAAC,GAAE,CAACA,GAAE,OAAM,IAAI,EAAE,sBAAqB,wBAAwB;AAAE,QAAMC,KAAE,MAAMD,GAAE,YAAY;AAAE,SAAOA,GAAE,CAAC,GAAE,EAAC,MAAKC,IAAE,MAAKF,GAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,EAAE,aAAa,kBAAkB,QAAM;AAAY,QAAM,IAAE,EAAE;AAAI,MAAG,GAAE,CAAC,GAAE;AAAC,UAAMG,KAAE,GAAE,CAAC;AAAE,WAAM,kBAAeA,MAAA,gBAAAA,GAAG,aAAUA,GAAE,YAAU;AAAA,EAAW;AAAC,SAAM,UAAU,KAAK,CAAC,IAAE,cAAY,iBAAiB,KAAK,CAAC,IAAE,eAAa;AAAW;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,aAAa,kBAAkB,QAAO;AAAE,MAAG,aAAa,iBAAiB,QAAO;AAAK,QAAM,IAAE,SAAS,cAAc,QAAQ;AAAE,IAAE,QAAM,EAAE,OAAM,EAAE,SAAO,EAAE;AAAO,QAAM,IAAE,EAAE,WAAW,IAAI;AAAE,SAAO,aAAa,mBAAiB,EAAE,UAAU,GAAE,GAAE,GAAE,EAAE,OAAM,EAAE,MAAM,IAAE,aAAa,aAAW,EAAE,aAAa,GAAE,GAAE,CAAC,GAAE;AAAC;AAAC,SAASF,GAAE,GAAE;AAAC,QAAM,IAAE,CAAC,GAAE,IAAE,IAAI,WAAW,CAAC;AAAE,WAAQ,IAAE,GAAE,IAAE,EAAE,QAAO,IAAI,GAAE,KAAK,OAAO,aAAa,EAAE,CAAC,CAAC,CAAC;AAAE,SAAM,0CAAwC,KAAK,EAAE,KAAK,EAAE,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,MAAG,EAAE,aAAW,EAAE,QAAM;AAAG,QAAM,IAAE,IAAI,WAAW,CAAC;AAAE,SAAO,QAAM,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC,KAAG,OAAK,EAAE,CAAC;AAAC;",
  "names": ["a", "i", "s", "c", "e"]
}
