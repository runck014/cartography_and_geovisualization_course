{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/effects/jsonUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{setDeepValue as t}from\"../../core/object.js\";import{parse as r}from\"./parser.js\";import{isEffectFunctions as s}from\"./utils.js\";function n(e,t,r){try{return c(e)}catch(s){r?.messages?.push(s)}return null}function a(e,r,s,n){try{const n=o(e);t(s,n,r)}catch(a){n.messages&&n.messages.push(a)}}function o(e){const t=r(e);return t?s(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function c(e){if(!e||0===e.length)return null;if(f(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:i(r.value)});return t}return i(e)}function f(e){const t=e[0];return!!t&&\"scale\"in t}function i(e){if(!e?.length)return\"\";const t=[];for(const s of e){let e=[];switch(s.type){case\"grayscale\":case\"sepia\":case\"saturate\":case\"invert\":case\"brightness\":case\"contrast\":case\"opacity\":e=[u(s,\"amount\")];break;case\"blur\":e=[u(s,\"radius\",\"pt\")];break;case\"hue-rotate\":e=[u(s,\"angle\",\"deg\")];break;case\"drop-shadow\":e=[u(s,\"xoffset\",\"pt\"),u(s,\"yoffset\",\"pt\"),u(s,\"blurRadius\",\"pt\"),l(s,\"color\")];break;case\"bloom\":e=[u(s,\"strength\"),u(s,\"radius\",\"pt\"),u(s,\"threshold\")]}const n=`${s.type}(${e.filter(Boolean).join(\" \")})`;r(n),t.push(n)}return t.join(\" \")}function u(t,r,s){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return s?t[r]+s:\"\"+t[r]}function l(t,r){if(null==t[r])throw new e(\"effect:missing-parameter\",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});const s=t[r];return`rgba(${s[0]||0}, ${s[1]||0}, ${s[2]||0}, ${s[3]/255||0})`}export{i as effectFunctionsFromJSON,c as fromJSON,n as read,o as toJSON,a as write};\n"],
  "mappings": "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",
  "names": ["e", "s", "n", "a", "t", "l"]
}
