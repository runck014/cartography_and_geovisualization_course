{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/save/imageryUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as i,toggleTypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",y=\"imagery-layer-save\",n=\"imagery-layer-save-as\",o=\"imagery-tile-layer-save\",m=\"imagery-tile-layer-save-as\";function c(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:y,fullExtent:n}=e;t.url=l.path,t.title||=y;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,i.METADATA),s(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function g(t,r){const a=\"imagery\"===t.type?y:o;return e({layer:t,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:a},r)}async function v(e,r,a){const i=\"imagery\"===e.type?n:m;return t({layer:e,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{g as save,v as saveAs};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI6L,IAAMA,KAAE;AAAR,IAAwB,IAAE;AAA1B,IAA+C,IAAE;AAAjD,IAAyE,IAAE;AAA3E,IAAqG,IAAE;AAA6B,SAAS,EAAE,GAAE;AAJ9U;AAI+U,MAAG,cAAY,EAAE,KAAK,QAAM,EAAC,SAAQ,KAAE;AAAE,QAAK,EAAC,QAAO,EAAC,IAAE,GAAE,IAAE,gBAAa,uBAAG,kBAAc,OAAE,mBAAF,mBAAkB,QAAQ,KAAG;AAAE,SAAM,EAAC,SAAQ,wBAAqB,uBAAG,mBAAgB,aAAW,EAAE,YAAU,UAAQ,EAAE,WAAU,cAAa,mEAAkE;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,QAAM,IAAE,EAAE;AAAU,SAAO,QAAQ,QAAQ,KAAG,OAAO,KAAK,CAAC,EAAE,SAAO,IAAE,IAAI;AAAC;AAAC,eAAeC,GAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAUD,IAAE,OAAME,IAAE,YAAWC,GAAC,IAAE;AAAE,IAAE,MAAIH,GAAE,MAAK,EAAE,UAAF,EAAE,QAAQE;AAAE,MAAG;AAAC,MAAE,SAAO,MAAM,EAAEC,EAAC;AAAA,EAAC,QAAM;AAAC,MAAE,SAAO;AAAA,EAAM;AAAC,IAAE,GAAE,EAAE,QAAQ,GAAE,EAAE,GAAE,EAAE,eAAc,mBAAiB,EAAE,IAAI;AAAC;AAAC,eAAe,EAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,cAAY,EAAE,OAAK,IAAE;AAAE,SAAO,EAAE,EAAC,OAAM,GAAE,UAASJ,IAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgBI,GAAC,GAAE,CAAC;AAAC;AAAC,eAAe,EAAE,GAAE,GAAEA,IAAE;AAAC,QAAM,IAAE,cAAY,EAAE,OAAK,IAAE;AAAE,SAAO,EAAE,EAAC,OAAM,GAAE,UAASJ,IAAE,eAAc,GAAE,gBAAe,GAAE,iBAAgB,GAAE,SAAQ,GAAE,mBAAkBC,GAAC,GAAEG,EAAC;AAAC;",
  "names": ["l", "u", "y", "n", "a"]
}
