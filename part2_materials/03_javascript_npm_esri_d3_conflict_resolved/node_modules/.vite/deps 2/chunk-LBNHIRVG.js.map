{
  "version": 3,
  "sources": ["../../@arcgis/core/support/collectionUtils.js", "../../@arcgis/core/support/LayersMixin.js", "../../@arcgis/core/support/TablesMixin.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../core/CollectionFlattener.js\";function t(t){return new e({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return\"tables\"in e&&t.push(e.tables),\"layers\"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&\"tables\"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}export{t as createFlattenedTablesCollection,n as destroyMap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function d(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if(\"group\"===s?.type&&(o=d(s.layers,r,t),o))return o}}const l=l=>{let y=class extends l{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(\"before-add\",(e=>{if(e.item===this)return e.preventDefault(),void s.getLogger(this).error(\"#add()\",\"Cannot add layer to itself.\");t(e.item)})),this.layers.on(\"after-add\",(e=>o(e.item))),this.layers.on(\"after-remove\",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):s.getLogger(this).error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([a()],y.prototype,\"layers\",null),y=e([i(\"esri.support.LayersMixin\")],y),y};export{l as LayersMixin};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if(\"group\"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const n=n=>{let l=class extends n{constructor(...t){super(...t),this.tables=new e,this.addHandles([this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.toArray();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return a(this.tables,\"id\",t)}findTableByUid(t){return a(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(\"esri.support.TablesMixin\")],l),l};export{n as TablesMixin};\n"],
  "mappings": "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",
  "names": ["t", "n", "r", "t", "a", "l", "e", "n", "a", "t", "r", "o", "n", "l"]
}
