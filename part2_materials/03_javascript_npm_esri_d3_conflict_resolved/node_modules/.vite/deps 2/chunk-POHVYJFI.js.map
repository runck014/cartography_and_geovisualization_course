{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/External.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{getFileFormatId as s,getMimeTypeOrFilenameFormatId as n}from\"../../../layers/support/infoFor3D.js\";class a{constructor(t,r,e){this.assetName=t,this.assetMimeType=r,this.parts=e}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&r(this.parts,t.parts,((t,r)=>t.equals(r)))}isOnService(t){return this.parts.every((r=>r.isOnService(t)))}makeHash(){let t=\"\";for(const r of this.parts)t+=r.partHash;return t}async toBlob(t){const{parts:r}=this;if(1===r.length)return r[0].toBlob(t);const s=await Promise.all(r.map((r=>r.toBlob(t))));return e(t),new Blob(s)}}class i{constructor(t,r){this.partUrl=t,this.partHash=r}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(r){const{data:s}=await t(this.partUrl,{responseType:\"blob\"});return e(r),s}}function o(t){return l(t?.source)}function u(t){if(!Array.isArray(t))return!1;return t.every((t=>t instanceof a))}const c=/^(model\\/gltf\\+json)|(model\\/gltf-binary)$/,f=/\\.(gltf|glb)/i;function l(t){if(!t)return!1;if(Array.isArray(t)){return t.some(p)}return p(t)}function p(t){if(t instanceof File){const{type:r,name:e}=t;return c.test(r)||f.test(e)}return c.test(t.assetMimeType)||f.test(t.assetName)}function m(t,r){if(!t)return!1;const{source:e}=t;return y(e,r)}function h(t,r){if(t===r)return!0;const{source:e}=t,{source:s}=r;if(e===s)return!0;if(u(e)&&u(s)){if(e.length!==s.length)return!1;const t=(t,r)=>t.assetName<r.assetName?-1:t.assetName>r.assetName?1:0,r=[...e].sort(t),n=[...s].sort(t);for(let e=0;e<r.length;++e)if(!r[e].equals(n[e]))return!1;return!0}return!1}function y(t,r){if(Array.isArray(t)){const e=t;return e.length>0&&e.every((t=>g(t,r)))}return g(t,r)}function g(t,r){return t instanceof a&&t.isOnService(r)}function b(t,r){return t instanceof File?s(t,r):n(t.assetMimeType,t.assetName,r)}function N(t){return Array.isArray(t)?t:[t]}function A(t){return!!t.original}export{a as ServiceAsset,i as ServiceAssetPart,b as assetFormatId,g as assetIsOnService,m as externalIsOnService,N as externalSourceToMultiPart,h as externalSourcesAreEqual,p as isDisplayAsset,o as isDisplayExternal,l as isDisplaySource,A as isOriginalExternal,y as sourceIsOnService};\n"],
  "mappings": "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",
  "names": ["t", "s", "r", "c", "p", "e"]
}
