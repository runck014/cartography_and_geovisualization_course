#!/usr/bin/env node
import { spawn } from "node:child_process";
import { join } from "node:path";
import { fileURLToPath } from "node:url";

const scriptPath = join(fileURLToPath(import.meta.url), "..", "run.ts");
const commandArguments = process.argv.slice(2);

const child = spawn("npx", ["tsx", scriptPath, ...commandArguments], {
  stdio: "inherit",
  shell: true,
});

// Forward the exit code
child.on("exit", function (code) {
  process.exit(code);
});
