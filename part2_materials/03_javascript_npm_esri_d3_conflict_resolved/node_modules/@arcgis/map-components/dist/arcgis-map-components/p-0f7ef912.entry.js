/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.6
 */
import{r as i,c as t,g as s,h}from"./p-b6370480.js";import{n as e,i as a,a as r,b as o}from"./p-2ac726a1.js";import{m as n}from"./p-46a93645.js";import{u as c,l as g}from"./p-80e0eabb.js";import{u as d,r as w,g as l,a as p,m as u}from"./p-043d42fa.js";import{p as v,a as y,b as m,i as V,c as b}from"./p-937ddc5c.js";const C=n(e),P=class{constructor(s){i(this,s),this.arcgisReady=t(this,"arcgisReady",7),this.arcgisPropertyChange=t(this,"arcgisPropertyChange",7),this.manager=d(this),this.widget=C(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=c()("level","phase","state"),this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.label=this.widget.label,this.layers=this.widget.layers,this.headingLevel=this.widget.headingLevel,this.level=this.viewModel.level,this.phase=this.viewModel.phase,this.state=this.viewModel.state,this.hideLevels=this.widget.visibleElements.levels,this.hidePhases=this.widget.visibleElements.phases,this.hideDisciplines=this.widget.visibleElements.disciplines,this.position="bottom-left",this.referenceElement=void 0}async destroy(){await this.manager.destroy()}get el(){return s(this)}};P.style="";const f=u(r),L=u(o),D=class{constructor(s){i(this,s),this.arcgisViewReadyChange=t(this,"arcgisViewReadyChange",7),this.arcgisViewChange=t(this,"arcgisViewChange",7),this.arcgisViewClick=t(this,"arcgisViewClick",7),this.arcgisViewDoubleClick=t(this,"arcgisViewDoubleClick",7),this.arcgisViewDrag=t(this,"arcgisViewDrag",7),this.arcgisViewHold=t(this,"arcgisViewHold",7),this.arcgisViewImmediateClick=t(this,"arcgisViewImmediateClick",7),this.arcgisViewImmediateDoubleClick=t(this,"arcgisViewImmediateDoubleClick",7),this.arcgisViewKeyDown=t(this,"arcgisViewKeyDown",7),this.arcgisViewKeyUp=t(this,"arcgisViewKeyUp",7),this.arcgisViewLayerviewCreate=t(this,"arcgisViewLayerviewCreate",7),this.arcgisViewLayerviewCreateError=t(this,"arcgisViewLayerviewCreateError",7),this.arcgisViewLayerviewDestroy=t(this,"arcgisViewLayerviewDestroy",7),this.arcgisViewMouseWheel=t(this,"arcgisViewMouseWheel",7),this.arcgisViewPointerDown=t(this,"arcgisViewPointerDown",7),this.arcgisViewPointerEnter=t(this,"arcgisViewPointerEnter",7),this.arcgisViewPointerLeave=t(this,"arcgisViewPointerLeave",7),this.arcgisViewPointerMove=t(this,"arcgisViewPointerMove",7),this.arcgisViewPointerUp=t(this,"arcgisViewPointerUp",7),this.manager=d(this),this.reactiveUtils=g(a),this._map=f(this,{editConstructorProperties:this._editMapProperties}),this._setChildElement=i=>{this.el.childElem=i},this.autoDestroyDisabled=!1,this.view=w(L(this,{editConstructorProperties:this._editViewProperties})),this.map=this.view.map,this.allLayerViews=this.view.allLayerViews,this.alphaCompositingEnabled=this.view.alphaCompositingEnabled,this.analyses=this.view.analyses,this.basemapView=this.view.basemapView,this.basemap=this._map.basemap,this.camera=l(void 0,{get:()=>this.view.camera,set:(i,t)=>this.ready?(m(t,i)||(this.view.camera=i),this.view.camera):i}),this.cameraFov=l(void 0,{get:i=>this.view.camera?.fov??i,set:i=>this.ready?(null!=i&&this._mutateCamera((t=>{t.fov=i})),this.view.camera?.fov):i}),this.cameraHeading=l(void 0,{get:i=>this.view.camera?.heading??i,set:i=>this.ready?(null!=i&&this._mutateCamera((t=>{t.heading=i})),this.view.camera?.heading):i}),this.cameraPosition=l(void 0,{get:i=>this.view.camera?.position??i,set:i=>{if(!this.ready)return i;const t=y(this.view.camera?.position,i);return t&&this._mutateCamera((i=>{i.position=t})),this.view.camera?.position}}),this.cameraTilt=l(void 0,{get:i=>this.view.camera?.tilt??i,set:i=>this.ready?(null!=i&&this._mutateCamera((t=>{t.tilt=i})),this.view.camera?.tilt):i}),this.center=l(void 0,{get:i=>this.view.center??i,set:i=>{const t=v(i,this.ready?this.view:void 0);return this.ready?(this.view.center=t,this.view.center):t}}),this.clippingArea=l(this.view.clippingArea,{set:(i,t)=>t?.equals(i)?t:i}),this.constraints=this.view.constraints,this.environment=l(this.view.environment,{set:(i,t)=>V(t,i)?i:t}),this.extent=l(void 0,{get:i=>this.view.extent??i,set:(i,t)=>this.view.ready?(i&&!t?.equals(i)&&(this.view.extent=i),this.view.extent):i}),this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.gamepad=l(void 0,{get:()=>this.ready?this.view.input.gamepad:void 0,set:"ignore"}),this.graphics=this.view.graphics,this.ground=this._map.ground,this.groundView=this.view.groundView,this.highlightOptions=this.view.highlightOptions,this.interacting=l(!1,{get:()=>this.view.interacting,set:"ignore"}),this.itemId=l(void 0,{get:i=>this._map.portalItem?.id??i,set:i=>(this.ready&&p.reCreate(this._map,this).then((()=>{this.view.map=this._map})).catch(console.error),i)}),this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.navigating=l(!1,{get:()=>this.view.navigating,set:"ignore"}),this.navigation=this.view.navigation,this.padding=this.view.padding,this.performanceInfo=l(void 0,{get:()=>this.view.performanceInfo,set:"ignore"}),this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.qualityProfile=this.view.qualityProfile,this.ready=this.view.ready,this.resolution=l(void 0,{get:()=>this.view.resolution,set:"ignore"}),this.scale=l(void 0,{get:i=>this.view.scale??i,set:i=>(this.ready&&(this.view.scale=i),i)}),this.spatialReference=l(this.view.spatialReference,{set:(i,t)=>t?.equals(i)?t:i}),this.stationary=l(!0,{get:()=>this.view.stationary,set:"ignore"}),this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.toMap=w(((...i)=>this.view.toMap(...i))),this.toScreen=w(((...i)=>this.view.toScreen(...i))),this.updating=this.view.updating,this.viewingMode=this.view.viewingMode,this.viewpoint=l(void 0,{get:()=>this.view.viewpoint,set:(i,t)=>b(t,i)?i:t}),this.zoom=l(void 0,{get:i=>this.view.zoom??i,set:i=>(this.ready&&(this.view.zoom=i),i)})}async addLayer(i,t){this.map?.add(i,t)}async addLayers(i,t){this.map?.addMany(i,t)}async closePopup(){this.view?.closePopup()}async destroy(){await this.manager.destroy()}async goTo(i,t){return await(this.view?.goTo(i,t))}async hitTest(i,t){return await(this.view?.hitTest(i,t))}async openPopup(i){await(this.view?.openPopup(i))}async takeScreenshot(i){return await(this.view?.takeScreenshot(i))}async tryFatalErrorRecovery(){this.view?.tryFatalErrorRecovery()}async whenAnalysisView(i){return await(this.view?.whenAnalysisView(i))}async whenLayerView(i){return await(this.view?.whenLayerView(i))}componentDidLoad(){this.view.container??=this.el.childElem;const{watch:i}=this.reactiveUtils;this.manager.onLifecycle((()=>[i((()=>this.view.stationary),(()=>{this.arcgisViewChange.emit()}),{initial:!0}),i((()=>this.view.ready),(()=>this.arcgisViewReadyChange.emit()),{initial:this.view.ready})])),p.reEmitAccessorEvents(this.manager,this.view,this.reactiveUtils,"arcgisView")}render(){return h("div",{key:"9e1393b9ac8da70c9e35a8267d0261689b50e075",class:"arcgis-scene",ref:this._setChildElement})}_editMapProperties(i){this.map&&(this._map=this.map),this.itemId?i.portalItem={id:this.itemId}:this.basemap?"none"===this.basemap&&(i.basemap=void 0,this.basemap=null):i.basemap="topo-vector";const{basemap:t,...s}=i;return t||(i=s),i}_editViewProperties(i){this.view.ui||(i.ui={components:["attribution"]}),i.map??=this._map;const t=v(this.center,void 0);t&&(i.center=t),this.viewpoint&&(i.viewpoint=this.viewpoint),void 0!==this.scale&&(i.scale=this.scale),this.extent&&(i.extent=this.extent),this.camera&&(i.camera=this.camera);const s=y(void 0,this.cameraPosition);return s&&(i.camera??={},i.camera.position=s),null!=this.cameraHeading&&(i.camera??={},i.camera.heading=this.cameraHeading),null!=this.cameraTilt&&(i.camera??={},i.camera.tilt=this.cameraTilt),null!=this.cameraFov&&(i.camera??={},i.camera.fov=this.cameraFov),void 0!==this.zoom&&(i.zoom=this.zoom),i}_mutateCamera(i){const t=this.view.camera.clone();i(t),m(this.view.camera,t)||(this.view.camera=t)}get el(){return s(this)}};D.style=".arcgis-scene{padding:0;margin:0;height:100%;width:100%}";export{P as arcgis_building_explorer,D as arcgis_scene}