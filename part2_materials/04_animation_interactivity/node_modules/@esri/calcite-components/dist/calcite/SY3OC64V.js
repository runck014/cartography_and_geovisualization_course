/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */
import{a as x,b as C}from"./3YYHU67H.js";import{a as O,b as S}from"./6NJ2XB5D.js";import{a as y}from"./6NCXFBVI.js";import{a as f}from"./MOOKY73S.js";import{l as v}from"./SXYTJEOC.js";import"./B4YIOD3M.js";import{J as u,e as h,f as m,v as b,w as p,x as g}from"./74XIV7EB.js";var l={container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},E=h`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}`,d=class extends p{constructor(){super(),this.dragEnabled=!0,this.items=[],this.mutationObserver=f("mutation",()=>{this.setUpSorting()}),this.disabled=!1,this.handleSelector="calcite-handle",this.layout="vertical",this.loading=!1,this.calciteListOrderChange=b({cancelable:!1}),this.listen("calciteHandleNudge",this.calciteHandleNudgeNextHandler)}static{this.properties={canPull:0,canPut:0,disabled:7,dragSelector:3,group:3,handleSelector:3,layout:3,loading:7}}static{this.styles=E}connectedCallback(){super.connectedCallback(),this.setUpSorting(),this.beginObserving()}load(){y.deprecated("component",{name:"sortable-list",removalVersion:4,suggested:"block-group"})}updated(){O(this)}disconnectedCallback(){super.disconnectedCallback(),C(this),this.endObserving()}calciteHandleNudgeNextHandler(e){this.handleNudgeEvent(e)}onGlobalDragStart(){this.endObserving()}onGlobalDragEnd(){this.beginObserving()}onDragEnd(){}onDragStart(){}onDragSort(){this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()}handleNudgeEvent(e){let{direction:r}=e.detail,t=e.composedPath().find(a=>a.matches(this.handleSelector)),i=this.items.find(a=>a.contains(t)||e.composedPath().includes(a)),c=this.items.length-1,s=this.items.indexOf(i),o=!1,n;r==="up"?s===0?o=!0:n=s-1:s===c?n=0:s===c-1?o=!0:n=s+2,this.endObserving(),o?i.parentElement.appendChild(i):i.parentElement.insertBefore(i,this.items[n]),this.items=Array.from(this.el.children),this.beginObserving(),requestAnimationFrame(()=>v(t)),"selected"in t&&(t.selected=!0)}setUpSorting(){this.items=Array.from(this.el.children),x(this)}beginObserving(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}endObserving(){this.mutationObserver?.disconnect()}render(){let{disabled:e,layout:r}=this,t=r==="horizontal"||!1;return S({disabled:e,children:m`<div class=${g({[l.container]:!0,[l.containerVertical]:!t,[l.containerHorizontal]:t})}><slot></slot></div>`})}};u("calcite-sortable-list",d);export{d as SortableList};
