/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */
import{a as t,b as S,c as f,d as r}from"./G5S7W2IC.js";import{b as O}from"./B7MQCVNK.js";import"./7DY27BCZ.js";import{b as j}from"./QXDDQX5X.js";import"./7WRGOM4T.js";import{a as P,b as T}from"./6NJ2XB5D.js";import{a as d}from"./RIMAR2EG.js";import"./SYD5OQF5.js";import{a as F}from"./MOOKY73S.js";import{a as M}from"./HHWADIGN.js";import{b as C}from"./SZONZQBZ.js";import{b as I}from"./5MAYMOZA.js";import{n as E,u as c,v as x}from"./SXYTJEOC.js";import{b as B}from"./H6E5FODU.js";import"./B4YIOD3M.js";import{J as w,e as z,f as a,j as $,v,w as H,x as i}from"./74XIV7EB.js";var D=z`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-none));box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-panel-corner-radius, var(--calcite-corner-radius-none)) 0 0;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .header-actions{--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-indicator-color: var(--calcite-panel-header-action-indicator-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color)}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}#close:last-child,#collapse:last-child,calcite-action-menu:last-child{--calcite-action-corner-radius-start-end: var(--calcite-panel-corner-radius)}.back-button{--calcite-action-corner-radius-start-start: var(--calcite-panel-corner-radius)}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header-slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1));border-radius:0 0 var(--calcite-panel-corner-radius, var(--calcite-corner-radius-none)) var(--calcite-panel-corner-radius, var(--calcite-corner-radius-none))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}`,y=class extends H{constructor(){super(),this.resizeObserver=F("resize",()=>this.resizeHandler()),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.isClosed=!1,this.showHeaderContent=!1,this.closable=!1,this.closed=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=j,this.messages=M(),this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=v({cancelable:!1}),this.calcitePanelScroll=v({cancelable:!1}),this.calcitePanelToggle=v({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler)}static{this.properties={hasActionBar:16,hasContentBottom:16,hasContentTop:16,hasEndActions:16,hasFab:16,hasFooterActions:16,hasFooterContent:16,hasFooterEndContent:16,hasFooterStartContent:16,hasHeaderContent:16,hasMenuItems:16,hasStartActions:16,isClosed:16,showHeaderContent:16,beforeClose:0,closable:7,closed:7,collapseDirection:1,collapsed:7,collapsible:7,description:1,disabled:7,heading:1,headingLevel:11,loading:7,menuFlipPlacements:0,menuOpen:7,menuPlacement:3,messageOverrides:0,overlayPositioning:3,scale:3}}static{this.styles=D}async scrollContentTo(e){this.panelScrollEl?.scrollTo(e)}async setFocus(){await B(this),E(this.containerEl)}async load(){this.isClosed=this.closed}willUpdate(e){e.has("closed")&&this.hasUpdated&&(this.closed?this.close():this.open())}updated(){P(this)}loaded(){}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}resizeHandler(){let{panelScrollEl:e}=this;!e||typeof e.scrollHeight!="number"||typeof e.offsetHeight!="number"||(e.scrollHeight>e.offsetHeight?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex"))}setContainerRef(e){this.containerEl=e}panelKeyDownHandler(e){this.closable&&e.key==="Escape"&&!e.defaultPrevented&&(this.handleUserClose(),e.preventDefault())}handleUserClose(){this.closed=!0,this.calcitePanelClose.emit()}open(){this.isClosed=!1}async close(){let e=this.beforeClose??(()=>Promise.resolve());try{await e()}catch{requestAnimationFrame(()=>{this.closed=!1});return}this.isClosed=!0}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(e){this.hasStartActions=c(e)}handleHeaderActionsEndSlotChange(e){this.hasEndActions=c(e)}handleHeaderMenuActionsSlotChange(e){this.hasMenuItems=c(e)}handleActionBarSlotChange(e){let n=x(e).filter(o=>o?.matches("calcite-action-bar"));n.forEach(o=>o.layout="horizontal"),this.hasActionBar=!!n.length}handleHeaderContentSlotChange(e){this.hasHeaderContent=c(e)}handleFabSlotChange(e){this.hasFab=c(e)}handleFooterActionsSlotChange(e){this.hasFooterActions=c(e)}handleFooterEndSlotChange(e){this.hasFooterEndContent=c(e)}handleFooterStartSlotChange(e){this.hasFooterStartContent=c(e)}handleFooterSlotChange(e){this.hasFooterContent=c(e)}contentBottomSlotChangeHandler(e){this.hasContentBottom=c(e)}contentTopSlotChangeHandler(e){this.hasContentTop=c(e)}setPanelScrollEl(e){this.panelScrollEl=e,this.resizeObserver?.disconnect(),e&&(this.resizeObserver?.observe(e),this.resizeHandler())}handleAlertsSlotChange(e){x(e)?.map(n=>{n.nodeName==="CALCITE-ALERT"&&(n.embedded=!0)})}renderHeaderContent(){let{heading:e,headingLevel:n,description:o,hasHeaderContent:l}=this,s=e?O({class:t.heading,level:n,children:e}):null,h=o?a`<span class=${i(t.description)}>${o}</span>`:null;return!l&&(s||h)?d("header-content",a`<div class=${i(t.headerContent)}>${s}${h}</div>`):null}renderActionBar(){return a`<div class=${i(t.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${r.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return d("slotted-header-content",a`<div class=${i({[t.headerContent]:!0,[t.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${r.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){let{hasStartActions:e}=this;return d("header-actions-start",a`<div class=${i({[t.headerActionsStart]:!0,[t.headerActions]:!0})} .hidden=${!e}><slot name=${r.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){let{hasEndActions:e,messages:n,closable:o,collapsed:l,collapseDirection:s,collapsible:h,hasMenuItems:u}=this,{collapse:p,expand:g,close:m}=n,b=[f.expand,f.collapse];s==="up"&&b.reverse();let A=h?a`<calcite-action .ariaExpanded=${!l} .ariaLabel=${p} .icon=${l?b[0]:b[1]} id=${S.collapse} @click=${this.collapse} .scale=${this.scale} .text=${p} title=${(l?g:p)??$}></calcite-action>`:null,k=o?a`<calcite-action .ariaLabel=${m} .icon=${f.close} id=${S.close} @click=${this.handleUserClose} .scale=${this.scale} .text=${m} title=${m??$}></calcite-action>`:null,L=a`<slot name=${r.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,N=e||A||k||u;return d("header-actions-end",a`<div class=${i({[t.headerActionsEnd]:!0,[t.headerActions]:!0})} .hidden=${!N}>${L}${this.renderMenu()}${A}${k}</div>`)}renderMenu(){let{hasMenuItems:e,messages:n,menuOpen:o,menuFlipPlacements:l,menuPlacement:s}=this;return d("menu",a`<calcite-action-menu .flipPlacements=${l??["top","bottom"]} .hidden=${!e} .label=${n.options} .open=${o} .overlayPositioning=${this.overlayPositioning} .placement=${s}><calcite-action .icon=${f.menu} .scale=${this.scale} slot=${I.trigger} .text=${n.options}></calcite-action><slot name=${r.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){let{hasHeaderContent:e,hasStartActions:n,hasEndActions:o,closable:l,collapsible:s,hasMenuItems:h,hasActionBar:u}=this,p=this.renderHeaderContent(),g=e||!!p||n||o||s||l||h;return this.showHeaderContent=g,a`<header class=${i(t.header)} .hidden=${!(g||u)}><div class=${i({[t.headerContainer]:!0,[t.headerContainerBorderEnd]:u})} .hidden=${!g}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${p}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){let{hasFooterEndContent:e,hasFooterStartContent:n,hasFooterContent:o,hasFooterActions:l}=this,s=n||e||o||l;return a`<footer class=${i(t.footer)} .hidden=${!s}><div class=${i(t.footerContent)} .hidden=${!o}><slot name=${r.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${i(t.footerStart)} .hidden=${o||!n}><slot name=${r.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${i(t.footerEnd)} .hidden=${o||!e}><slot name=${r.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${i(t.footerActions)} .hidden=${o||!l}>${d("footer-actions-slot",a`<slot name=${r.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return a`<div class=${i(t.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${C(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return a`<div class=${i(t.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${r.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return a`<div class=${i(t.contentTop)} .hidden=${!this.hasContentTop}><slot name=${r.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return a`<div class=${i(t.fabContainer)} .hidden=${!this.hasFab}><slot name=${r.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){let{disabled:e,loading:n,isClosed:o}=this,l=a`<article .ariaBusy=${n} class=${i(t.container)} .hidden=${o} ${C(this.setContainerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${d("alerts",a`<slot name=${r.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return T({disabled:e,children:a`${n?a`<calcite-scrim .loading=${n}></calcite-scrim>`:null}${l}`})}};w("calcite-panel",y);export{y as Panel};
