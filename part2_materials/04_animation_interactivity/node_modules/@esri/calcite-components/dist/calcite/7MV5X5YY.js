/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */
import{a as s}from"./3XJDMBMJ.js";import{b as m}from"./SZONZQBZ.js";import{b as x}from"./5MAYMOZA.js";import{e as f}from"./SXYTJEOC.js";import{f as d,j as g}from"./74XIV7EB.js";var S=2,E=e=>e.reduce((t,o)=>t+o,0)/e.length,B=e=>{let t=e.filter(n=>n.slot!==s.menuActions),o=t?.length;return{actionWidth:o?E(t.map(n=>n.clientWidth||0)):0,actionHeight:o?E(t.map(n=>n.clientHeight||0)):0}},W=({width:e,actionWidth:t,layout:o,height:n,actionHeight:i,groupCount:r})=>{let l=o==="horizontal"?e:n,a=o==="horizontal"?t:i;return Math.floor((l-r*S)/a)},D=({layout:e,actionCount:t,actionWidth:o,width:n,actionHeight:i,height:r,groupCount:l})=>Math.max(t-W({width:n,actionWidth:o,layout:e,height:r,actionHeight:i,groupCount:l}),0),b=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===x.trigger:!0),I=({actionGroups:e,expanded:t,overflowCount:o})=>{let n=o;e.reverse().forEach(i=>{let r=0,l=b(i).reverse();l.forEach(a=>{a.slot===s.menuActions&&(a.removeAttribute("slot"),a.textEnabled=t)}),n>0&&l.some(a=>(l.filter(h=>!h.slot).length>1&&l.length>2&&!a.closest("calcite-action-menu")&&(a.textEnabled=!0,a.setAttribute("slot",s.menuActions),r++,r>1&&n--),n<1)),i.manager.component.requestUpdate()})},v={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function w(e,t){return e||t.closest("calcite-shell-panel")?.position||"start"}function N({el:e,expanded:t}){b(e).filter(o=>o.slot!==s.menuActions).forEach(o=>o.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=t)}var T=({tooltip:e,referenceElement:t,expanded:o,ref:n})=>(e&&(e.referenceElement=!o&&t?t:null),n&&n(t),t),O=({expanded:e,expandText:t,collapseText:o,expandLabel:n,collapseLabel:i,toggle:r,el:l,position:a,tooltip:h,ref:A,scale:$})=>{let y=f(l)==="rtl",p=e?o:t,C=e?i:n,c=[v.chevronsLeft,v.chevronsRight];y&&c.reverse();let u=w(a,l)==="end",H=u?c[1]:c[0],q=u?c[0]:c[1];return d`<calcite-action .icon=${e?H:q} id=expand-toggle .label=${C} @click=${r} .scale=${$} .text=${p} .textEnabled=${e} title=${(!e&&!h?p:null)??g} ${m(L=>T({tooltip:h,referenceElement:L,expanded:e,ref:A}))}></calcite-action>`};export{B as a,D as b,b as c,I as d,N as e,O as f};
