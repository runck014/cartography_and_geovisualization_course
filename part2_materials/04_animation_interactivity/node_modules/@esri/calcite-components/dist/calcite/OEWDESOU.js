/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */
import{j as b,k as v}from"./SXYTJEOC.js";import{f as g}from"./74XIV7EB.js";var A=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function w(t){return`${t.split("-").map((e,i)=>i===0?e:`${e[0].toUpperCase()}${e.slice(1)}`).join("")}${A.includes(t)?"Input":"Change"}`}var m="hidden-form-input";function h(t){return"checked"in t}var p=new WeakMap,E=new WeakSet;function q(t,e){if(v(e.parentElement,"[form]"))return!0;let i="calciteInternalFormComponentRegister",n=!1;return t.addEventListener(i,a=>{n=a.composedPath().some(l=>E.has(l)),a.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),n}function F(t,{status:e,message:i,icon:n}){"status"in t&&(t.status=e),"validationIcon"in t&&typeof t.validationIcon!="string"&&(t.validationIcon=n),"validationMessage"in t&&!t.validationMessage&&(t.validationMessage=i)}function C(t){return t.nodeName==="CALCITE-RADIO-BUTTON"?v(t,"calcite-radio-button-group"):t}var $=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function I(t){let e=t?.target,i=e?.validationMessage,n=C(e?.parentElement);if(!n)return;let a=n?.nodeName?.toLowerCase(),l=a?.split("-");if(l.length<2||l[0]!=="calcite")return;t?.preventDefault(),"validity"in n&&(n.validity=e?.validity),n.dispatchEvent($),F(n,{message:i,icon:!0,status:"invalid"});let c=w(a);n.addEventListener(c,()=>{"status"in n&&(n.status="idle"),"validationIcon"in n&&(n.validationIcon===""||n.validationIcon===!0)&&(n.validationIcon=!1),"validationMessage"in n&&n.validationMessage===i&&(n.validationMessage=""),"validity"in n&&(n.validity=e?.validity)},{once:!0})}function N(t){let{formEl:e}=t;return e?(e.addEventListener("invalid",I,!0),e.requestSubmit(),e.removeEventListener("invalid",I,!0),requestAnimationFrame(()=>{let i=e.querySelectorAll("[status=invalid]");for(let n of i)if(n?.validationMessage){n?.setFocus();break}}),!0):!1}function O(t){t.formEl?.reset()}function P(t){let{el:e,value:i}=t,n=S(t);if(!n||q(n,e))return;t.formEl=n,t.defaultValue=i,h(t)&&(t.defaultChecked=t.checked);let a=V.bind(t);n.addEventListener("reset",a),p.set(t.el,a),E.add(e)}function S(t){let{el:e,form:i}=t;return i?b(e,{id:i}):v(e,"form")}function V(){if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),h(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,this.onFormReset?.()}function T(t){let{el:e,formEl:i}=t;if(!i)return;let n=p.get(e);i.removeEventListener("reset",n),p.delete(e),t.formEl=null,E.delete(e)}function W(t,e){t.defaultValue=e}var x="calciteInternalHiddenInputInput",M=t=>{t.target.dispatchEvent(new CustomEvent(x,{bubbles:!0}))},y=t=>t.removeEventListener("input",M);function D(t){let{el:e,formEl:i,name:n,value:a}=t,{ownerDocument:l}=e,c=e.querySelectorAll(`input[slot="${m}"]`);if(!i||!n){c.forEach(o=>{y(o),o.remove()});return}let f=Array.isArray(a)?a:[a],r=[],d=new Set;c.forEach(o=>{let s=f.find(L=>L==o.value);s!=null?(d.add(s),k(t,o,s)):r.push(o)});let u;f.forEach(o=>{if(d.has(o))return;let s=r.pop();s||(s=l.createElement("input"),s.ariaHidden="true",s.slot=m),u||(u=l.createDocumentFragment()),u.append(s),s.addEventListener("input",M),k(t,s,o)}),u&&e.append(u),r.forEach(o=>{y(o),o.remove()})}function k(t,e,i){let{defaultValue:n,disabled:a,form:l,name:c,required:f}=t;e.defaultValue=n,e.disabled=a,e.name=c,e.required=f,e.tabIndex=-1,l?e.setAttribute("form",l):e.removeAttribute("form"),h(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",t.syncHiddenFormInput?.(e);let r=C(t.el);if(r&&"validity"in r)for(let d in{...e?.validity})r.validity[d]=e.validity[d]}var B=({component:t})=>(D(t),g`<slot name=${m}></slot>`);export{N as a,O as b,P as c,S as d,T as e,W as f,x as g,B as h};
