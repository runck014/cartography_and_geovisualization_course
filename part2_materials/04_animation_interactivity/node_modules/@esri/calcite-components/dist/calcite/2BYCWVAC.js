/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */
import{b as T}from"./B7MQCVNK.js";import"./7DY27BCZ.js";import{a as y}from"./6NCXFBVI.js";import{a as x}from"./RIMAR2EG.js";import{a as v}from"./MOOKY73S.js";import{a as $}from"./HHWADIGN.js";import{b}from"./SZONZQBZ.js";import{e as k}from"./SXYTJEOC.js";import"./B4YIOD3M.js";import{J as u,e as g,f as c,v as m,w as f,x as a}from"./74XIV7EB.js";var t={header:"header",heading:"heading",close:"close",container:"container",tipContainer:"tip-container",tipContainerAdvancing:"tip-container--advancing",tipContainerRetreating:"tip-container--retreating",pagination:"pagination",pagePosition:"page-position",pageNext:"page-next",pagePrevious:"page-previous"},s={chevronLeft:"chevron-left",chevronRight:"chevron-right",close:"x"},w=g`:host{box-sizing:border-box;display:block;background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-2);--calcite-tip-manager-height: 19vh}:host *{box-sizing:border-box}:host([closed]){display:none}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}.header{border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-color-border-3);padding-block:0px;padding-inline-end:0px;padding-inline-start:1rem}.header .heading{padding:0;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-text-1)}.container{position:relative;overflow:hidden;outline-color:transparent;min-block-size:150px}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.tip-container{margin-block-start:1px;display:flex;align-items:flex-start;justify-content:center;overflow:auto;padding:1rem;outline-color:transparent;animation-name:none;animation-duration:var(--calcite-animation-timing);block-size:var(--calcite-tip-manager-height)}.tip-container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}::slotted(calcite-tip){margin:0;border-style:none;max-inline-size:var(--calcite-tip-max-width)}.tip-container--advancing{animation-name:tip-advance}.tip-container--retreating{animation-name:tip-retreat}.pagination{display:flex;align-items:center;justify-content:center;padding-inline:0px;padding-block:.75rem .5rem}.page-position{margin-block:0px;margin-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}@keyframes tip-advance{0%{opacity:0;transform:translate3d(50px,0,0) scale(.99)}to{opacity:1;transform:translateZ(0) scale(1)}}@keyframes tip-retreat{0%{opacity:0;transform:translate3d(-50px,0,0) scale(.99)}to{opacity:1;transform:translateZ(0) scale(1)}}:host([hidden]){display:none}[hidden]{display:none}`,h=class extends f{constructor(){super(...arguments),this.messages=$(),this.mutationObserver=v("mutation",()=>this.setUpTips()),this.closed=!1,this.calciteTipManagerClose=m({cancelable:!1})}static{this.properties={direction:16,groupTitle:16,selectedIndex:16,tips:16,total:16,closed:7,headingLevel:11,messageOverrides:0}}static{this.styles=w}async nextTip(){this.direction="advancing";let e=this.selectedIndex+1;this.selectedIndex=(e+this.total)%this.total}async previousTip(){this.direction="retreating";let e=this.selectedIndex-1;this.selectedIndex=(e+this.total)%this.total}connectedCallback(){super.connectedCallback(),this.setUpTips(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}async load(){y.deprecated("component",{name:"tip-manager",removalVersion:4,suggested:"carousel"})}willUpdate(e){e.has("closed")&&(this.hasUpdated||this.closed!==!1)&&(this.direction=null),e.has("selectedIndex")&&this.selectedChangeHandler(),e.has("messages")&&this.updateGroupTitle()}loaded(){this.updateGroupTitle()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}selectedChangeHandler(){this.showSelectedTip(),this.updateGroupTitle()}setUpTips(){let e=Array.from(this.el.querySelectorAll("calcite-tip"));if(this.total=e.length,this.total===0)return;let i=this.el.querySelector("calcite-tip[selected]");this.tips=e,this.selectedIndex=i?e.indexOf(i):0,e.forEach(n=>{n.closeDisabled=!0}),this.showSelectedTip()}hideTipManager(){this.closed=!0,this.calciteTipManagerClose.emit()}showSelectedTip(){this.tips.forEach((e,i)=>{let n=this.selectedIndex===i;e.selected=n,e.hidden=!n})}updateGroupTitle(){if(this.tips){let e=this.tips[this.selectedIndex].closest("calcite-tip-group");this.groupTitle=e?.groupTitle||this.messages?.defaultGroupTitle}}previousClicked(){this.previousTip()}nextClicked(){this.nextTip()}tipManagerKeyDownHandler(e){if(e.target===this.container)switch(e.key){case"ArrowRight":e.preventDefault(),this.nextTip();break;case"ArrowLeft":e.preventDefault(),this.previousTip();break;case"Home":e.preventDefault(),this.selectedIndex=0;break;case"End":e.preventDefault(),this.selectedIndex=this.total-1;break}}storeContainerRef(e){this.container=e}renderPagination(){let e=k(this.el),{selectedIndex:i,tips:n,total:r,messages:o}=this,l=o.next,d=o.previous,p=o.defaultPaginationLabel;return n.length>1?c`<footer class=${a(t.pagination)}><calcite-action class=${a(t.pagePrevious)} .icon=${e==="ltr"?s.chevronLeft:s.chevronRight} @click=${this.previousClicked} scale=m .text=${d}></calcite-action><span class=${a(t.pagePosition)}>${`${p} ${i+1}/${r}`}</span><calcite-action class=${a(t.pageNext)} .icon=${e==="ltr"?s.chevronRight:s.chevronLeft} @click=${this.nextClicked} scale=m .text=${l}></calcite-action></footer>`:null}render(){let{closed:e,direction:i,headingLevel:n,groupTitle:r,selectedIndex:o,messages:l,total:d}=this,p=l.close;return d===0?null:c`<section .ariaHidden=${e} class=${a(t.container)} .hidden=${e} @keydown=${this.tipManagerKeyDownHandler} tabindex=0 ${b(this.storeContainerRef)}><header class=${a(t.header)}>${T({class:t.heading,level:n,children:r})}<calcite-action class=${a(t.close)} @click=${this.hideTipManager} scale=m .text=${p}><calcite-icon .icon=${s.close} scale=m></calcite-icon></calcite-action></header>${x(o,c`<div class=${a({[t.tipContainer]:!0,[t.tipContainerAdvancing]:!e&&i==="advancing",[t.tipContainerRetreating]:!e&&i==="retreating"})} tabindex=0><slot></slot></div>`)}${this.renderPagination()}</section>`}};u("calcite-tip-manager",h);export{h as TipManager};
