/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
*/
import e from"../../../Color.js";import{loadCalciteComponents as t}from"../../support/componentsUtils.js";import"../../support/widgetUtils.js";import{tsx as c}from"../../support/jsxFactory.js";import{css as l}from"../css.js";const i={active:null,speed:"1x",quality:"Auto",color:null},o=new e([255,127,0]);let s=null;const a=()=>t({action:()=>import("@esri/calcite-components/dist/components/calcite-action"),flow:()=>import("@esri/calcite-components/dist/components/calcite-flow"),"flow-item":()=>import("@esri/calcite-components/dist/components/calcite-flow-item"),icon:()=>import("@esri/calcite-components/dist/components/calcite-icon"),list:()=>import("@esri/calcite-components/dist/components/calcite-list"),"list-item":()=>import("@esri/calcite-components/dist/components/calcite-list-item"),popover:()=>import("@esri/calcite-components/dist/components/calcite-popover"),block:()=>import("@esri/calcite-components/dist/components/calcite-block"),"color-picker":()=>import("@esri/calcite-components/dist/components/calcite-color-picker"),chip:()=>import("@esri/calcite-components/dist/components/calcite-chip"),"color-picker-swatch":()=>import("@esri/calcite-components/dist/components/calcite-color-picker-swatch")});function n({viewModel:t,settings:i,messages:a}){const{state:n}=t,r="not-ready"===n||"waiting"===n,p=["Auto"],m=[{label:"0.25x",value:.25},{label:"0.5x",value:.5},{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}],d=c("calcite-flow-item",{heading:a.playbackSpeed,key:"playback-speed",selected:"speed"===i.active,onCalciteFlowItemBack:()=>{i.active=null}},c("calcite-list",{label:a.playbackSpeed,selectionMode:"single-persist"},m.map((({label:e,value:l})=>c("calcite-list-item",{key:e,label:e,onclick:()=>{i.speed=e,t.changePlaybackSpeed(l)},selected:e===i.speed}))))),u=c("calcite-flow-item",{heading:a.quality,key:`Quality (${i.quality})`,selected:"quality"===i.active,onCalciteFlowItemBack:()=>{i.active=null}},c("calcite-list",{label:a.quality,selectionMode:"single-persist"},p.map((e=>c("calcite-list-item",{key:e,label:e,onclick:()=>{i.quality=e},selected:e===i.quality}))))),g=c("calcite-flow-item",{heading:a.graphics,key:`Graphics (${i.color})`,selected:"color"===i.active,onCalciteFlowItemBack:()=>{i.active=null,i.color=s?new e(s):null,i.color&&t.changeGraphicsColor(i.color)}},c("calcite-block",{heading:a.color,open:!0},c("calcite-color-picker",{channelsDisabled:!0,format:"hex",savedDisabled:!0,scale:"s",value:i.color?.toHex()??o.toHex(),onCalciteColorPickerChange:e=>{s=e.currentTarget.value?.toString()}})));return c("div",{class:l.settings},c("calcite-popover",{autoClose:!0,label:a.settings,overlayPositioning:"fixed",placement:"top-end",pointerDisabled:!0,referenceElement:"settings-action",scale:"s"},c("calcite-flow",{class:l.settingsFlow,key:"root-flow"},c("calcite-flow-item",{closable:!1,heading:"Settings",key:"root-flow-item",selected:!i.active},c("calcite-list",{label:a.settings},c("calcite-list-item",{key:`Speed (${i.speed})`,label:a.speed,onclick:()=>{i.active="speed"}},c("div",{slot:"content-end"},c("calcite-chip",{label:i.speed,scale:"s"},i.speed)),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})),c("calcite-list-item",{key:`Quality (${i.quality})`,label:a.quality,onclick:()=>{i.active="quality"}},c("div",{slot:"content-end"},c("calcite-chip",{label:i.quality,scale:"s"},i.quality)),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})),c("calcite-list-item",{key:`Graphics (${i.color})`,label:a.graphics,onclick:()=>{i.active="color"}},c("calcite-color-picker-swatch",{color:i.color?.toString()??o.toString(),scale:"s",slot:"content-end"}),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})))),"speed"===i.active?d:null,"quality"===i.active?u:null,"color"===i.active?g:null)),c("calcite-action",{alignment:"center",bind:t,disabled:r,icon:"sliders",id:"settings-action",key:"settings",scale:"s",slot:"trigger",text:a.settings}))}export{n as SettingsButton,i as defaultSettings,a as loadSettingsButtonComponents};
