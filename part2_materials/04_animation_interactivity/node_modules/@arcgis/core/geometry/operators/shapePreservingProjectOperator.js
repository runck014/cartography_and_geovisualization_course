/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
*/
import{isSome as e}from"../../core/arrayUtils.js";import{load as r,supportsCurves as t,execute as n,executeMany as o,isLoaded as a}from"./gx/operatorShapePreservingProject.js";let i,s,c,m,p,f,u,h,g,l,x,T;function j(){return!!s&&a()}async function I(){if(!j()){const[e,n,o,a]=await Promise.all([import("./support/apiConverter.js"),import("../../chunks/ProjectionTransformation.js").then((e=>e.aI)).then((({CompositeGeographicTransformation:e})=>e)),import("../../chunks/ProjectionTransformation.js").then((e=>e.aJ)).then((({create:e,createFromWKT:r})=>({create:e,createFromWKT:r}))),import("../../chunks/ProjectionTransformation.js").then((e=>e.aK)).then((({create:e,createEx:r,createFromAoi:t})=>({create:e,createEx:r,createFromAoi:t}))),r()]);i=e.fromExtent,s=e.fromGeometry,c=e.fromSpatialReference,m=e.getSpatialReference,p=e.toGeometry,f=n,u=o.create,h=o.createFromWKT,g=a.createEx,l=a.createFromAoi,x=a.create,T=t()}}function v(e,r,t={}){const o=S(m(e),r,t),a=t?.maxDeviationInSrTo??0,i=t?.minSegmentLengthInDegrees??0;return p(n(s(e),o,i,a),r)}function E(r,t,n={}){const a=r.map(s),i=S(m(r),t,n),c=n?.maxDeviationInSrTo??0;return o(a,i,n?.minSegmentLengthInDegrees??0,c).map((e=>p(e,t))).filter(e)}function S(e,r,t={}){let n;const o=c(e),a=c(r);if(t?.geographicTransformation){const e=t.geographicTransformation.steps.map((e=>e.wkid?u(e.wkid,e.isInverse):h(e.wkt,e.isInverse)));n=new f(e,null,o,a)}else if(t?.areaOfInterestExtent)return l(o,a,i(t.areaOfInterestExtent).asEnvelope2D());return n?g(o,a,n):x(o,a)}export{v as execute,E as executeMany,j as isLoaded,I as load,T as supportsCurves};
